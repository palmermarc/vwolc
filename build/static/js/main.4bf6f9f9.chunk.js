(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t){},161:function(e,t,a){e.exports=a.p+"static/media/Logo.4b14043b.svg"},192:function(e,t,a){e.exports=a(341)},197:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},341:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setActiveArea",function(){return X});var r=a(0),l=a.n(r),i=a(53),o=a.n(i),c=(a(197),a(19)),s=a(20),u=a(26),d=a(25),m=a(27),h=a(359),b=a(350),p=a(24),f=a(54),v=a.n(f),g=a(160),E=a(22),O=(a(206),a(342)),j=a(357),y=a(352),A=a(161),k=a.n(A),w=(a(208),function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).state={opened:!0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Sidebar"},l.a.createElement("header",{className:"App-header"},l.a.createElement(O.a,{src:k.a,alt:"The Death of Cain: Online Area Builder",title:"The Death of Cain: Online Area Builder"}),l.a.createElement("nav",null,l.a.createElement(j.a,{text:!0,vertical:!0},l.a.createElement(j.a.Item,{as:y.a,to:"/areas/"},"Areas"),l.a.createElement(j.a.Item,{as:y.a,to:"/rooms/"},"Rooms"),l.a.createElement(j.a.Item,{as:y.a,to:"/mobs/"},"Mobs"),l.a.createElement(j.a.Item,{as:y.a,to:"/objects/"},"Objects")))))}}]),t}(r.Component)),S=a(349),C=a(358),I=a(16),x=a(353),_=a(356),N=a(103),D=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).state={mobs:[{vnum:1,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:0,alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0}]},n.getMobs=n.getMobs.bind(Object(I.a)(Object(I.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMobs()}},{key:"getMobs",value:function(){var e=localStorage.getItem("mobs");null!=e&&this.setState({mobs:JSON.parse(e)||this.state.mobs})}},{key:"render",value:function(){return l.a.createElement("div",{id:"mobs-list",className:"fade-in"},this.state.mobs.map(function(e){return l.a.createElement(x.a,{key:e.vnum,divided:!0,relaxed:!0},l.a.createElement(x.a.Item,null,l.a.createElement(x.a.Content,null,l.a.createElement(x.a.Header,null,"(",e.vnum,") ",e.name),l.a.createElement(x.a.Description,null,e.short_description))))}),l.a.createElement("div",{id:"view-header-section"},l.a.createElement(_.a,{as:y.a,to:"/mobs/create",className:"view-create-new"},l.a.createElement(N.a,{name:"plus"}),"Create New")))}}]),t}(l.a.Component);var T=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{}})(D)),M=a(56),L=a(170),R=a(355),q=a(351),H=a(354),P=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.state={errors:[],genders:[{key:"0",text:"Unsullied",value:"0"},{key:"1",text:"Male",value:"1"},{key:"2",text:"Female",value:"2"}],affects:[{key:"0",text:"Invis",value:"2"},{key:"1",text:"Detect Invis",value:"8"},{key:"2",text:"Detect Hidden",value:"32"},{key:"3",text:"Shadow Plane",value:"64"},{key:"4",text:"Sanct",value:"128"},{key:"5",text:"Faerie Fire",value:"256"},{key:"6",text:"Infravision",value:"512"},{key:"7",text:"Prot vs Evil",value:"8192"},{key:"8",text:"Sneak",value:"32768"},{key:"9",text:"Hide",value:"65536"},{key:"10",text:"Flying",value:"524288"},{key:"11",text:"Pass Door",value:"1048576"},{key:"12",text:"Shadow Sight",value:"4194304"}],mob:{vnum:1,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:0,alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0}},n.getMob=n.getMob.bind(Object(I.a)(Object(I.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMob()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=[];if("ac"===a&&n<0&&r.push({field:"ac",message:"Armor must be a positive number."}),"ac"===a&&n>1e4&&r.push({field:"ac",message:"Armor cannot go higher than 10,000. This gives the mob a 95% damage reduction. Maybe you should make it stance to make it even stronger?"}),"hp"===a&&n<500&&r.push({field:"hp",message:"You cannot set the hp value to less than 500."}),"hp"===a&&n>25e4&&r.push({field:"hp",message:"You cannot set the hp value to more than 250000. Might we suggest increasing the remort level to make it tougher to kill?"}),"gender"===a&&0!==n&&1!==n&&2!==n&&r.push({field:"gender",message:"Please select an appropriate gender."}),"name"===a&&0===n.length&&r.push({field:"name",message:"Name cannot be blank."}),"short_description"===a&&0===n.length&&r.push({field:"short_description",message:"Short Description cannot be blank."}),"long_description"===a&&0===n.length&&r.push({field:"long_description",message:"Long Description cannot be blank."}),"description"===a&&0===n.length&&r.push({field:"description",message:"Description cannot be blank."}),"alignment"===a&&(n>1e3||n<-1e3)&&r.push({field:"alignment",message:"Alignment must be between 1000 and -1000"}),"level"===a&&n<=0&&r.push({field:"level",message:"Mob level must be greater than 0."}),"level"===a&&n>25e4&&r.push({field:"level",message:"Mob level cannot be greater than 250,000."}),"exp_level"===a&&n<=0&&r.push({field:"exp_level",message:"EXP level must be greater than 0."}),"exp_level"===a&&n>25e4&&r.push({field:"exp_level",message:"EXP level cannot be greater than 250,000."}),"hitroll"===a&&n<=0&&r.push({field:"hitroll",message:"Hitroll must be greater than 0."}),"hitroll"===a&&n>7500&&r.push({field:"hitroll",message:"Hitroll cannot be greater than 7,500."}),"damroll"===a&&n<=0&&r.push({field:"damroll",message:"Damroll must be greater than 0."}),"damroll"===a&&n>7500&&r.push({field:"damroll",message:"Damroll cannot be greater than 7,500."}),this.setState({errors:r}),r.length>0)return!1;this.setState(function(e){return{mob:Object(L.a)({},e.mob,Object(M.a)({},a,n))}}),this.setState({unsaved:!0})}},{key:"getMob",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&l.a.createElement(R.a,{negative:!0},l.a.createElement(R.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return l.a.createElement("p",null,e.message)})),l.a.createElement(q.a,null,l.a.createElement(q.a.Group,{widths:"equal"},l.a.createElement(q.a.Input,{fluid:!0,name:"name",label:"Name",placeholder:"name"}),l.a.createElement(q.a.Input,{fluid:!0,name:"short_description",label:"Short Desc",placeholder:"Short desc"})),l.a.createElement(q.a.Input,{fluid:!0,name:"long_description",label:"Long Desc",placeholder:""}),l.a.createElement(q.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!"}),l.a.createElement(q.a.Group,{widths:"equal"},l.a.createElement(q.a.Input,{fluid:!0,name:"alignment",label:"Alignment",placeholder:"0",value:this.state.mob.alignment,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"level",label:"Level",placeholder:"0",value:this.state.mob.level,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"exp_level",label:"EXP Level",placeholder:"0",value:this.state.mob.exp_level,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"gold",label:"Gold",placeholder:"0",value:this.state.mob.gold,onChange:this.handleChange}),l.a.createElement(q.a.Select,{fluid:!0,name:"sex",label:"Gender",options:this.state.genders,placeholder:"Gender"})),l.a.createElement(q.a.Group,{widths:"equal"},l.a.createElement(q.a.Input,{fluid:!0,name:"hp",label:"HP",placeholder:"0",value:this.state.mob.hp,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"hitroll",label:"Hitroll",placeholder:"0",value:this.state.mob.hitroll,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"damroll",label:"Damroll",placeholder:"0",value:this.state.mob.damroll,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"ac",label:"Armor",placeholder:"0",value:this.state.mob.ac,onChange:this.handleChange})),l.a.createElement(q.a.Group,{widths:"equal"},l.a.createElement(H.a,{label:"Affects",placeholder:"Affects",name:"affected_by",fluid:!0,multiple:!0,selection:!0,options:this.state.affects}))))}}]),t}(l.a.Component);var V=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{}})(P)),F=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"wrap fade-in"},l.a.createElement(C.a,{columns:2,stackable:!0,textAlign:"center"},l.a.createElement(C.a.Row,{verticalAlign:"top"},l.a.createElement(C.a.Column,null,l.a.createElement(T,null)),l.a.createElement(C.a.Column,null,l.a.createElement(V,null)))))}}]),t}(l.a.Component);var B=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{}})(F));v()();function X(e){return function(t){t(function(e){return{type:"ACTIVE_AREA",areaId:e}}(e))}}var z={dbVersion:"1.0",dbName:"tdoc_olc",dbSize:2097152,dbDescription:"Local Storage database for the Online Area Builder for The Death of Caine mud."},G=a(112),U={user:{isLoggedIn:!1,token:null,userId:null,firstName:null,lastName:null},area:0};var W=Object(E.c)({areas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"areas":return a.areas=t.areas,console.log(a),a;case"ACTIVE_AREA":return a.activeArea=t.activeArea,a;default:return e}}});var Y=function(e){var t=[G.a];return Object(E.e)(W,e,Object(E.d)(E.a.apply(void 0,t)))},J=(Y(),v()(),new(function(){function e(){Object(c.a)(this,e),this.config=z}return Object(s.a)(e,[{key:"getAreas",value:function(){return openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS areas (id unique, name TEXT, created_by TEXT)"),e.executeSql("SELECT * FROM areas LIMIT 10000",[],function(e,t){for(var a=[],n=0;n<t.rows.length;n++)a.push({id:t.rows[n].id,name:t.rows[n].name,created_by:t.rows[n].created_by})})}),[]}},{key:"getArea",value:function(e){openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(t){t.executeSql("SELECT * FROM areas WHERE rowid = '"+e+"'",[],function(e,t){console.log(t)})})}},{key:"createArea",value:function(e,t){}},{key:"event",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.sendMail(e,t,a,n)}},{key:"error",value:function(e,t,a){this.log("error",e,t,a)}},{key:"redirect",value:function(e){}}]),e}()),function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).state={areas:[{id:1,name:"new_area",created_by:"author"}]},n.getAreas=n.getAreas.bind(Object(I.a)(Object(I.a)(n))),n.setNewActiveArea=n.setNewActiveArea.bind(Object(I.a)(Object(I.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAreas()}},{key:"setNewActiveArea",value:function(e){this.props.actions.setActiveArea(e),this.forceUpdate()}},{key:"getAreas",value:function(){var e=this;openDatabase(z.dbName,z.dbVersion,z.dbDescription,z.dbSize).transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS areas (name TEXT, created_by TEXT)"),t.executeSql("SELECT rowid, name, created_by FROM areas LIMIT 10000",[],function(t,a){for(var n=[],r=0;r<a.rows.length;r++)n.push({id:a.rows[r].rowid,name:a.rows[r].name,created_by:a.rows[r].created_by});e.setState({areas:n})})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"mobs-list",className:"fade-in"},this.state.areas.map(function(t){return l.a.createElement(x.a,{key:t.id,divided:!0,relaxed:!0},l.a.createElement(y.a,{to:"/areas/"+t.id+"/",onClick:function(){return e.setNewActiveArea(t.id)}},l.a.createElement(x.a.Item,null,l.a.createElement(x.a.Content,null,l.a.createElement(x.a.Header,null,"(",t.id,") ",t.name),l.a.createElement(x.a.Description,null,t.created_by)))))}),l.a.createElement("div",{id:"view-header-section"},l.a.createElement(_.a,{as:y.a,to:"/mobs/create",className:"view-create-new"},l.a.createElement(N.a,{name:"plus"}),"Create New")))}}]),t}(l.a.Component));var $=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{actions:Object(E.b)(n,e)}})(J)),K=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){var e=Object(I.a)(Object(I.a)(n));if(""===n.state.name&&n.setState({errors:[{field:"name",message:"You must provide an area name."}]}),""===n.state.created_by&&n.setState({errors:[{field:"created_by",message:"You need to provide a name so we can credit the right person."}]}),n.state.errors.length>0)return!1;0===n.state.areaId?openDatabase(z.dbName,z.dbVersion,z.dbDescription,z.dbSize).transaction(function(t){t.executeSql("INSERT INTO areas (name, created_by) VALUES (?, ?)",[e.state.name,e.state.created_by],function(t,a){e.props.history.push("/areas/"+a.insertId+"/")},function(e,t){console.log(t)})}):n.updateArea()},n.handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.state={errors:[],niceName:"Create Area",areaId:0,name:"",created_by:""},n.getArea=n.getArea.bind(Object(I.a)(Object(I.a)(n))),n.createArea=n.createArea.bind(Object(I.a)(Object(I.a)(n))),n.updateArea=n.updateArea.bind(Object(I.a)(Object(I.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(I.a)(Object(I.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),this.forceUpdate(),document.title=this.state.niceName}},{key:"getArea",value:function(e){var t=this;openDatabase(z.dbName,z.dbVersion,z.dbDescription,z.dbSize).transaction(function(a){a.executeSql("SELECT * FROM areas WHERE rowid = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({name:a.rows[0].name,created_by:a.rows[0].created_by})},function(e){console.log(e)})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(M.a)({},a,n)),this.setState({unsaved:!0})}},{key:"createArea",value:function(){var e=this;openDatabase(z.dbName,z.dbVersion,z.dbDescription,z.dbSize).transaction(function(t){t.executeSql("INSERT INTO areas (name, created_by) VALUES (?, ?)",[e.state.name,e.state.created_by],function(e,t){},function(e,t){console.log(t)})})}},{key:"updateArea",value:function(){var e=this;openDatabase(z.dbName,z.dbVersion,z.dbDescription,z.dbSize).transaction(function(t){t.executeSql("UPDATE areas SET name = ?, created_by = ? WHERE rowid = ?",[e.state.name,e.state.created_by,e.state.areaId],function(t,a){e.props.history.push("/areas/"+e.state.areaId+"/")},function(e,t){console.log(t)})})}},{key:"render",value:function(){return l.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&l.a.createElement(R.a,{negative:!0},l.a.createElement(R.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return l.a.createElement("p",null,e.message)})),l.a.createElement(q.a,{onSubmit:this.handleSubmit},l.a.createElement(q.a.Group,{widths:"equal"},l.a.createElement(q.a.Input,{fluid:!0,name:"name",label:"Area Name",placeholder:"Area Name Here",value:this.state.name,onChange:this.handleChange}),l.a.createElement(q.a.Input,{fluid:!0,name:"created_by",label:"Created By",placeholder:"Your Name Here",value:this.state.created_by,onChange:this.handleChange})),l.a.createElement(q.a.Button,{content:this.state.niceName})))}}]),t}(l.a.Component);var Q=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{}})(K)),Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"wrap fade-in"},l.a.createElement(C.a,{columns:2,stackable:!0,textAlign:"center"},l.a.createElement(C.a.Row,{verticalAlign:"top"},l.a.createElement(C.a.Column,null,l.a.createElement($,null)),l.a.createElement(C.a.Column,null,l.a.createElement(Q,null)))))}}]),t}(l.a.Component);var ee=Object(S.a)(Object(p.b)(function(e){return{}},function(e){return{actions:Object(E.b)(n,e)}})(Z)),te=v()(),ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"marcopromo-app-container"},l.a.createElement(h.a,{history:te},l.a.createElement("div",{id:"",className:"content"},l.a.createElement(w,null),l.a.createElement("div",{id:"content_bin"},l.a.createElement(b.a,{exact:!0,path:"/areas/",niceName:"Areas",component:ee}),l.a.createElement(b.a,{exact:!0,path:"/areas/:areaId/",niceName:"Areas",component:ee}),l.a.createElement(b.a,{exact:!0,path:"/mobs/",niceName:"Mobs",component:B})))))}}]),t}(r.Component);var ne=Object(p.b)(function(e){return e},function(e){return{actions:Object(E.b)(g,e)}})(ae);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=Y();o.a.render(l.a.createElement(p.a,{store:re},l.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[192,2,1]]]);
//# sourceMappingURL=main.4bf6f9f9.chunk.js.map