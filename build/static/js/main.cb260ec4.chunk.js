(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports=a(378)},212:function(e,t,a){},241:function(e,t,a){},243:function(e,t,a){},376:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"authHasErrors",function(){return S}),a.d(n,"authenticateUser",function(){return I}),a.d(n,"userLogOut",function(){return N}),a.d(n,"checkToken",function(){return A});var o={};a.r(o),a.d(o,"setActiveArea",function(){return se});var r=a(0),s=a.n(r),l=a(61),i=a.n(l),c=(a(212),a(21)),u=a(22),m=a(30),d=a(29),h=a(31),p=a(403),v=a(389),b=a(23),g=a(41),f=a.n(g),y=a(50),E=a.n(y),x={apiBase:"//api.thedeathofcaine.local",object:{extra_flags:[{key:1,text:"Glow",value:1},{key:2,text:"Hum",value:2},{key:3,text:"Throw",value:4},{key:4,text:"Keep",value:8},{key:5,text:"Vanish",value:16},{key:6,text:"Invis",value:32},{key:7,text:"Magic",value:64},{key:8,text:"No Drop",value:128},{key:9,text:"Bless",value:256},{key:10,text:"Anti-Good",value:512},{key:11,text:"Anti-Evil",value:1024},{key:12,text:"Anti-Neutral",value:2048},{key:13,text:"No Remove",value:4096},{key:14,text:"Inventory",value:8192},{key:15,text:"Loyal",value:16384},{key:16,text:"Shadowplane",value:32768},{key:17,text:"Silver",value:65536},{key:18,text:"No Quest Card",value:131072},{key:19,text:"Quest Item",value:262144},{key:20,text:"Clan Iotem",value:524288},{key:21,text:"Auto Claim",value:1048576},{key:22,text:"Silent Vanish",value:2097152}],wear_flags:[{key:1,text:"Take",value:1},{key:2,text:"Finger",value:2},{key:3,text:"Neck",value:4},{key:4,text:"Body",value:8},{key:5,text:"Head",value:16},{key:6,text:"Legs",value:32},{key:7,text:"Feet",value:64},{key:8,text:"Hands",value:128},{key:9,text:"Arms",value:256},{key:10,text:"Shield",value:512},{key:11,text:"About",value:1024},{key:12,text:"Waist",value:2048},{key:13,text:"Wrist",value:4096},{key:14,text:"Wield",value:8192},{key:15,text:"Hold",value:16384},{key:16,text:"Wear Face",value:32768}],specials:[{key:1,text:"Activate",value:1},{key:2,text:"Twist",value:2},{key:3,text:"Press",value:4},{key:4,text:"Pull",value:8},{key:5,text:"Target",value:16},{key:6,text:"Spell",value:32},{key:7,text:"Transporter",value:64},{key:8,text:"Teleporter",value:128},{key:9,text:"Delay 1",value:256},{key:10,text:"Delay 2",value:512},{key:11,text:"Object",value:1024},{key:12,text:"Mobile",value:2048},{key:13,text:"Action",value:4096},{key:14,text:"Morph",value:8192}],affects:[{text:"STR",value:1,key:1},{text:"DEX",value:2,key:2},{text:"INT",value:3,key:3},{text:"WIS",value:4,key:4},{text:"CON",value:5,key:5},{text:"Sex",value:6,key:6},{text:"Mana",value:12,key:12},{text:"Hp",value:13,key:13},{text:"Move",value:14,key:14},{text:"Gold",value:15,key:15},{text:"EXP",value:16,key:16},{text:"Armor",value:17,key:17},{text:"Hitroll",value:18,key:18},{text:"Damroll",value:19,key:19},{text:"SAVING_PARA",value:20,key:20},{text:"SAVING_ROD",value:21,key:21},{text:"SAVING_PETRI",value:22,key:22},{text:"SAVING_BREATH",value:23,key:23},{text:"SAVING_SPELL",value:24,key:24}],item_types:[{text:"Light",value:1,key:1},{text:"Scroll",value:2,key:2},{text:"Wand",value:3,key:3},{text:"Staff",value:4,key:4},{text:"Weapon",value:5,key:5},{text:"Treasure",value:8,key:6},{text:"Armor",value:9,key:7},{text:"Potion",value:10,key:8},{text:"Furniture",value:12,key:9},{text:"Trash",value:13,key:10},{text:"Container",value:15,key:11},{text:"Drink Container",value:17,key:12},{text:"Key",value:18,key:13},{text:"Food",value:19,key:14},{text:"Gold",value:20,key:15},{text:"Boat",value:22,key:16},{text:"NPC Corpse",value:23,key:17},{text:"Fountain",value:25,key:19},{text:"Pill",value:26,key:20},{text:"Portal",value:27,key:21}],spells:[{key:1,value:1,text:"acid blast"},{key:2,value:2,text:"armor"},{key:3,value:3,text:"bless"},{key:4,value:4,text:"blindness"},{key:5,value:5,text:"burning hands"},{key:6,value:6,text:"call lightning"},{key:7,value:7,text:"cause critical"},{key:8,value:8,text:"cause light"},{key:9,value:9,text:"cause serious"},{key:10,value:10,text:"change sex"},{key:11,value:11,text:"charm person"},{key:12,value:12,text:"chill touch"},{key:13,value:13,text:"colour spray"},{key:14,value:14,text:"continual light"},{key:15,value:15,text:"control weather"},{key:16,value:16,text:"create food"},{key:17,value:17,text:"create spring"},{key:18,value:18,text:"create water"},{key:19,value:19,text:"cure blindness"},{key:20,value:20,text:"cure critical"},{key:21,value:21,text:"cure light"},{key:22,value:22,text:"cure poison"},{key:23,value:23,text:"cure serious"},{key:24,value:24,text:"curse"},{key:25,value:25,text:"detect evil"},{key:26,value:26,text:"detect hidden"},{key:27,value:27,text:"detect invis"},{key:28,value:28,text:"detect magic"},{key:29,value:29,text:"detect poison"},{key:30,value:30,text:"dispel evil"},{key:31,value:31,text:"dispel magic"},{key:32,value:32,text:"earthquake"},{key:33,value:33,text:"enchant weapon"},{key:34,value:34,text:"energy drain"},{key:35,value:35,text:"faerie fire"},{key:36,value:36,text:"faerie fog"},{key:37,value:37,text:"fireball"},{key:38,value:38,text:"flamestrike"},{key:39,value:39,text:"fly"},{key:40,value:40,text:"gate"},{key:41,value:41,text:"giant strength"},{key:42,value:42,text:"harm"},{key:43,value:43,text:"heal"},{key:44,value:44,text:"identify"},{key:45,value:45,text:"infravision"},{key:46,value:46,text:"invis"},{key:47,value:47,text:"know alignment"},{key:48,value:48,text:"lightning bolt"},{key:49,value:49,text:"locate object"},{key:50,value:50,text:"magic missile"},{key:51,value:51,text:"mass invis"},{key:52,value:52,text:"pass door"},{key:53,value:53,text:"poison"},{key:54,value:54,text:"protection"},{key:55,value:55,text:"refresh"},{key:56,value:56,text:"remove curse"},{key:57,value:57,text:"sanctuary"},{key:58,value:58,text:"shield"},{key:59,value:59,text:"shocking grasp"},{key:60,value:60,text:"sleep"},{key:61,value:61,text:"stone skin"},{key:62,value:62,text:"summon"},{key:63,value:63,text:"teleport"},{key:64,value:64,text:"ventriloquate"},{key:65,value:65,text:"weaken"},{key:66,value:66,text:"word of recall"},{key:67,value:67,text:"acid breath"},{key:68,value:68,text:"fire breath"},{key:69,value:69,text:"frost breath"},{key:70,value:70,text:"gas breath"},{key:71,value:71,text:"lightning breath"},{key:72,value:72,text:"backstab"},{key:73,value:73,text:"disarm"},{key:74,value:74,text:"hide"},{key:75,value:75,text:"hurl"},{key:76,value:76,text:"kick"},{key:77,value:77,text:"peek"},{key:78,value:78,text:"pick lock"},{key:79,value:79,text:"rescue"},{key:80,value:80,text:"sneak"},{key:81,value:81,text:"steal"},{key:82,value:82,text:"general purpose"},{key:83,value:83,text:"high explosive"},{key:84,value:84,text:"guardian"},{key:85,value:85,text:"soulblade"},{key:86,value:86,text:"mana"},{key:87,value:87,text:"frenzy"},{key:88,value:88,text:"darkblessing"},{key:89,value:89,text:"portal"},{key:90,value:90,text:"energyflux"},{key:91,value:91,text:"voodoo"},{key:92,value:92,text:"transport"},{key:93,value:93,text:"regenerate"},{key:94,value:94,text:"clot"},{key:95,value:95,text:"mend"},{key:96,value:96,text:"punch"},{key:97,value:97,text:"quest"},{key:98,value:98,text:"minor creation"},{key:99,value:99,text:"brew"},{key:100,value:100,text:"scribe"},{key:101,value:101,text:"carve"},{key:102,value:102,text:"engrave"},{key:103,value:103,text:"bake"},{key:104,value:104,text:"mount"},{key:105,value:105,text:"berserk"},{key:106,value:106,text:"fastdraw"},{key:107,value:107,text:"hunt"},{key:108,value:108,text:"scan"},{key:109,value:109,text:"repair"},{key:110,value:110,text:"spellproof"},{key:111,value:111,text:"clone"},{key:112,value:112,text:"reveal"}],weapon_spells:[],weapon_types:[{key:0,value:0,text:"hit"},{key:1,value:1,text:"slice"},{key:2,value:2,text:"stab"},{key:3,value:3,text:"slash"},{key:4,value:4,text:"whip"},{key:5,value:5,text:"claw"},{key:6,value:6,text:"blast"},{key:7,value:7,text:"pound"},{key:8,value:8,text:"crush"},{key:9,value:9,text:"grep"},{key:10,value:10,text:"bite"},{key:11,value:12,text:"pierce"},{key:12,value:13,text:"suck"}],armor_spells:[],liquids:[{text:"water",value:0,key:1},{text:"beer",value:1,key:2},{text:"wine",value:2,key:3},{text:"ale",value:3,key:4},{text:"darkale",value:4,key:5},{text:"whisky",value:5,key:6},{text:"firebreather",value:7,key:7},{text:"specialty",value:8,key:8},{text:"slime",value:9,key:9},{text:"milk",value:10,key:10},{text:"tea",value:11,key:11},{text:"coffee",value:12,key:12},{text:"blood",value:13,key:13},{text:"saltwater",value:14,key:14}]},rooms:{flags:[{text:"Dark",value:1,key:0},{text:"Sacred",value:2,key:1},{text:"No Mob",value:4,key:2},{text:"Indoors",value:8,key:3},{text:"Quiet",value:16,key:4},{text:"No Shadowplane",value:32,key:5},{text:"No Spell",value:64,key:6},{text:"No Claim Or Call",value:128,key:7},{text:"Bank",value:256,key:8},{text:"Private",value:512,key:9},{text:"Safe",value:1024,key:10},{text:"Solitary",value:2048,key:11},{text:"No Recall",value:8192,key:12},{text:"Cone of Silence",value:16384,key:13},{text:"No Teleport",value:32768,key:14},{text:"No Mist",value:65536,key:15},{text:"No Transport",value:131072,key:16},{text:"No Escape",value:262144,key:17},{text:"No Home",value:524288,key:18},{text:"No Summon",value:1048576,key:19}],sectors:[{text:"Inside",value:0,key:0},{text:"City",value:1,key:1},{text:"Field",value:2,key:2},{text:"Forest",value:3,key:3},{text:"Hills",value:4,key:4},{text:"Mountain",value:5,key:5},{text:"Water (Swim)",value:6,key:6},{text:"Water (Noswim)",value:7,key:7},{text:"Air",value:9,key:9},{text:"Desert",value:10,key:10}],door_flags:[{text:"Door",value:"",key:0},{text:"Pick Proof",value:"",key:1},{text:"Bash Proof",value:"",key:2},{text:"No Pass Door",value:"",key:3}],exit_info_flags:[{text:"Door",value:1,key:0},{text:"Closed",value:2,key:1},{text:"Locked",value:4,key:2},{text:"Bashed",value:8,key:3},{text:"Bash-Proof",value:16,key:4},{text:"Pick-Proof",value:32,key:5},{text:"No Pass Door",value:64,key:6}]},mobs:{genders:[{key:"0",text:"Unsullied",value:"0"},{key:"1",text:"Male",value:"1"},{key:"2",text:"Female",value:"2"}],affects:[{key:"0",text:"Invis",value:"2"},{key:"1",text:"Detect Invis",value:"8"},{key:"2",text:"Detect Hidden",value:"32"},{key:"3",text:"Shadow Plane",value:"64"},{key:"4",text:"Sanct",value:"128"},{key:"5",text:"Faerie Fire",value:"256"},{key:"6",text:"Infravision",value:"512"},{key:"7",text:"Prot vs Evil",value:"8192"},{key:"8",text:"Sneak",value:"32768"},{key:"9",text:"Hide",value:"65536"},{key:"10",text:"Flying",value:"524288"},{key:"11",text:"Pass Door",value:"1048576"},{key:"12",text:"Shadow Sight",value:"4194304"}]}},k=a(178),j=a.n(k),w=f()();E.a.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status&&w.push("/logout/"),Promise.reject(e.response)});var _=new(function(){function e(){Object(c.a)(this,e),this.config=x}return Object(u.a)(e,[{key:"get",value:function(e,t,a,n){var o=this,r=this.config.apiBase+e+(t!=={}?"?"+j.a.stringify(t):""),s={headers:{Authorization:"Bearer "+localStorage.getItem("marcoPromoToken")}},l=new Promise(function(i){var c=i;return E.a.get(r,s).then(function(e){"function"===typeof a&&a(e),c(!0)}).catch(function(a){return"function"!==typeof n?(o.log("error",{Description:"API Error",Endpoint:e,Method:"GET",Query:t}),a):a}),l})}},{key:"post",value:function(e,t,a,n){var o=this,r=this.config.apiBase+e,s={headers:{Authorization:"Bearer "+localStorage.getItem("marcoPromoToken")}};return new Promise(function(l){var i=l;E.a.post(r,t,s).then(function(e){"function"===typeof a&&a(e),i(!0)}).catch(function(a){"function"===typeof n||o.log("error",{Description:"API Error",Endpoint:e,Method:"POST",Data:t,Error:a.response}),i(!1)})})}},{key:"put",value:function(e,t,a,n){var o=this,r=this.config.apiBase+e,s={headers:{Authorization:"Bearer "+localStorage.getItem("marcoPromoToken")}};return new Promise(function(l){var i=l;E.a.put(r,t,s).then(function(e){"function"===typeof a&&a(e),i(!0)}).catch(function(a){"function"===typeof n||o.log("error",{Description:"API Error",Endpoint:e,Method:"PUT",Data:t,Error:a.response}),i(!1)})})}},{key:"log",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},{key:"event",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.sendMail(e,t,a,n)}},{key:"error",value:function(e,t,a){this.log("error",e,t,a)}},{key:"redirect",value:function(e){}},{key:"decodeHtmlEntity",value:function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}}]),e}()),O=f()();function C(e){return{type:"LOGIN",isLoggedIn:!0,userId:e.id,role:e.role,username:e.username,email:e.email,token:e.token}}function S(e){return{type:"LOGIN_HAS_ERRORS",loginError:e}}function I(e,t){var a={email:e,password:t};return function(e){return E.a.post("//api.thedeathofcaine.com/users/authenticate",a).then(function(t){localStorage.setItem("marcoPromoToken",t.data.token),localStorage.setItem("id",t.data.id),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),e(C(t.data)),O.push("/areas/")}).catch(function(t){e(S("Error: Wrong Username/Password"))})}}function N(){return function(e){e({type:"LOGOUT"})}}function A(){return function(e){_.get("/users/validate",{},function(t){"success"===t.data.status?(console.log("We should be logged in now..."),localStorage.setItem("id",t.data.id),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),localStorage.setItem("role",t.data.role),e(C(t.data))):(e(S(t.data.message)),e(function(e){e({type:"LOGOUT"})}),O.push("/login/"))},function(t){e(S(t.response.data.message)),e(function(e){e({type:"LOGOUT"})}),O.push("/login/")})}}var R=a(19),T=(a(241),a(385)),D=a(379),F=a(397),M=a(391),L=a(83),P=a.n(L),G=(a(243),function(e){function t(e,a){var n;Object(c.a)(this,t),n=Object(m.a)(this,Object(d.a)(t).call(this,e,a));var o=localStorage.getItem("selectedArea");return null===o&&(o=0),n.state={opened:!0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Sidebar"},s.a.createElement("header",{className:"App-header"},s.a.createElement(M.a,{to:"/"},s.a.createElement(D.a,{className:"logo",src:P.a,alt:"The Death of Cain: Online Area Builder",title:"The Death of Cain: Online Area Builder"})),s.a.createElement("nav",null,s.a.createElement(F.a,{secondary:!0},s.a.createElement(F.a.Item,{name:"areas",as:M.a,to:"/areas/"},"Areas"),s.a.createElement(F.a.Item,{name:"rooms",as:M.a,to:"/rooms/"},"Rooms"),s.a.createElement(F.a.Item,{name:"mobs",as:M.a,to:"/mobs/"},"Mobs"),s.a.createElement(F.a.Item,{name:"objects",as:M.a,to:"/objects/"},"Objects")))))}}]),t}(r.Component));var q=Object(T.a)(Object(b.b)(function(e){return e},function(e){return{}})(G)),H=a(90),U=a(28),W=a(16),B=a(8),V=a(401),z=a(402),J=a(393),K=a(396),X=a(118),Q=a(395),Y=a(390),$=a(400),Z=a(386),ee=a(387),te=a(399),ae=a(357),ne=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){var e=[];n.state.mob.ac<0&&e.push({field:"ac",message:"Armor must be a positive number."}),n.state.mob.ac>1e4&&e.push({field:"ac",message:"Armor cannot go higher than 10,000. This gives the mob a 95% damage reduction. Maybe you should make it stance to make it even stronger?"}),n.state.mob.hp<500&&e.push({field:"hp",message:"You cannot set the hp value to less than 500."}),n.state.mob.hp>25e4&&e.push({field:"hp",message:"You cannot set the hp value to more than 250000. Might we suggest increasing the remort level to make it tougher to kill?"}),0===n.state.mob.name.length&&e.push({field:"name",message:"Name cannot be blank."}),0===n.state.mob.short_description.length&&e.push({field:"short_description",message:"Short Description cannot be blank."}),0===n.state.mob.long_description.length&&e.push({field:"long_description",message:"Long Description cannot be blank."}),0===n.state.mob.description.length&&e.push({field:"description",message:"Description cannot be blank."}),(n.state.mob.alignment>1e3||n.state.mob.alignment<-1e3)&&e.push({field:"alignment",message:"Alignment must be between 1000 and -1000"}),n.state.mob.level<=0&&e.push({field:"level",message:"Mob level must be greater than 0."}),n.state.mob.level>25e4&&e.push({field:"level",message:"Mob level cannot be greater than 250,000."}),n.state.mob.exp_level<=0&&e.push({field:"exp_level",message:"EXP level must be greater than 0."}),n.state.mob.exp_level>25e4&&e.push({field:"exp_level",message:"EXP level cannot be greater than 250,000."}),n.state.mob.hitroll<=0&&e.push({field:"hitroll",message:"Hitroll must be greater than 0."}),n.state.mob.hitroll>7500&&e.push({field:"hitroll",message:"Hitroll cannot be greater than 7,500."}),n.state.mob.damroll<=0&&e.push({field:"damroll",message:"Damroll must be greater than 0."}),n.state.mob.damroll>7500&&e.push({field:"damroll",message:"Damroll cannot be greater than 7,500."}),n.setState({errors:e}),0===e.length&&(0===n.state.mobId?n.saveMob():n.updateMob())},n.addNewResets=function(e){var t=Object(B.a)(Object(B.a)(n));switch(e){case"mobResets":n.setState(function(e){return{mob:Object(W.a)({},e.mob,{resets:Object(W.a)({},e.mob.resets,{mobResets:n.state.mob.resets.mobResets.concat([{arg1:t.state.mobId,arg2:0,arg3:0,comment:""}])})})}});break;case"inventoryResets":n.setState(function(e){return{mob:Object(W.a)({},e.mob,{resets:Object(W.a)({},e.mob.resets,{inventoryResets:n.state.mob.resets.inventoryResets.concat([{arg1:t.state.mobId,arg2:0,arg3:0,comment:""}])})})}});break;case"equipmentResets":n.setState(function(e){return{mob:Object(W.a)({},e.mob,{resets:Object(W.a)({},e.mob.resets,{equipmentResets:n.state.mob.resets.equipmentResets.concat([{arg1:t.state.mobId,arg2:0,arg3:0,comment:""}])})})}})}},n.handleResetsChange=function(e,t,a){return function(o){switch(t){case"mobResets":var r=n.state.mob.resets.mobResets.map(function(t,n){return e!==n?t:Object(W.a)({},t,Object(U.a)({},a,o.target.value))});n.setState(function(e){return{mob:Object(W.a)({},e.mob,{resets:Object(W.a)({},e.mob.resets,{mobResets:r})})}})}}},n.state={open:!1,errors:[],mobId:0,niceName:"Create Mob",mobs:[{vnum:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}],mob:{vnum:0,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0,resets:{mobResets:[],inventoryResets:[],equipmentResets:[]}},resets:[{}],inventoryResets:[{arg2:100,arg3:0}],equipmentResets:[{arg2:100,arg3:0}],objects:[{text:"Test Object",key:0,value:0},{text:"Test Object 2",key:1,value:1}],rooms:[{text:"Test Rooms",key:0,value:0},{text:"Test Rooms",key:1,value:1}]},n.getMob=n.getMob.bind(Object(B.a)(Object(B.a)(n))),n.getMobs=n.getMobs.bind(Object(B.a)(Object(B.a)(n))),n.saveMob=n.saveMob.bind(Object(B.a)(Object(B.a)(n))),n.updateMob=n.updateMob.bind(Object(B.a)(Object(B.a)(n))),n.handleChange=n.handleChange.bind(Object(B.a)(Object(B.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(B.a)(Object(B.a)(n))),n.getResets=n.getResets.bind(Object(B.a)(Object(B.a)(n))),n.handleResetsChange=n.handleResetsChange.bind(Object(B.a)(Object(B.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"getMobs",value:function(){var e=openDatabase(x.database.name,x.database.version,x.database.description,x.database.size),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM `areas_"+t.props.areas.activeArea+"_mobs` LIMIT 10000",[],function(e,n){if(n.rows.length>=1)for(var o=0;o<n.rows.length;o++)a.push({vnum:n.rows[o].vnum,name:n.rows[o].name,short_description:n.rows[o].short_description,long_description:n.rows[o].long_description,description:n.rows[o].description,act:n.rows[o].act,affected_by:n.rows[o].affected_by,alignment:n.rows[o].alignment,level:n.rows[o].level,exp_level:n.rows[o].exp_level,hitroll:n.rows[o].hitroll,damroll:n.rows[o].damroll,ac:n.rows[o].ac,hp:n.rows[o].hp,gold:n.rows[o].gold,sex:n.rows[o].sex});else a=[{vnum:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({mobs:a})})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;("level"!==a&&"exp_level"!==a&&"alignment"!==a&&"hitroll"!==a&&"damroll"!==a&&"ac"!==a&&"hp"!==a&&"gold"!==a&&"sex"!==a||ae(n))&&(this.setState(function(e){return{mob:Object(W.a)({},e.mob,Object(U.a)({},a,n))}}),this.setState({unsaved:!0}))}},{key:"getMob",value:function(e){var t=this,a={vnum:1,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0,resets:{mobResets:[],inventoryResets:[],equipmentResets:[]}};openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(n){n.executeSql("SELECT * FROM `areas_"+t.props.areas.activeArea+"_mobs` AND vnum = '"+e+"'",[],function(e,n){n.rows.length&&((a=n.rows[0]).affected_by=JSON.parse(a.affected_by),t.setState({mob:a}))},function(e){console.log(e)})})}},{key:"getResets",value:function(){var e=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("SELECT * FROM `areas_"+e.props.areas.activeArea+"_resets` WHERE arg1 = '"+this.state.mobId+"'AND command = 'M'",[],function(e,t){t.rows.length},function(e){console.log(e)})})}},{key:"saveMob",value:function(){var e=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_mobs` (name, short_description, long_description, description, act, affected_by, alignment, level, exp_level, hitroll, damroll, ac, hp, gold, sex) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex],function(a,n){var o=n.insertId;e.state.mob.resets.mobResets.map(function(a,n){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[o,a.arg2,a.arg3,"M"])}),e.state.mob.resets.inventoryResets.map(function(a,n){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[o,e.state.mob.resets.inventoryResets[n].arg2,e.state.mob.resets.inventoryResets[n].arg3,"E"])}),e.state.mob.resets.equipmentResets.map(function(a,n){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[o,e.state.mob.resets.equipmentResets[n].arg2,e.state.mob.resets.equipmentResets[n].arg3,"G"])}),setTimeout(function(){e.props.history.push("/mobs/"+o+"/")},1500)},function(e){console.log(e)})})}},{key:"updateMob",value:function(){var e=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("UPDATE `areas_"+e.props.areas.activeArea+"_mobs` set name = ?, short_description = ?, long_description = ?, description = ?, act = ?, affected_by = ?,  alignment = ?, level = ?, exp_level = ?, hitroll = ?, damroll = ?, ac = ?, hp = ?, gold = ?, sex = ? WHERE vnum = ?",[e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex,e.state.mobId],function(t,a){e.getMobs(),t.executeSql("DELETE FROM `areas_"+e.props.areas.activeArea+"_resets` WHERE arg1 = '"+e.state.mobId+"'"),e.state.mob.resets.mobResets.map(function(a){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[e.state.mobId,a.arg2,a.arg3,"M"])}),e.state.mob.resets.inventoryResets.map(function(a,n){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[e.state.mobId,e.state.mob.resets.inventoryResets[n].arg2,e.state.mob.resets.inventoryResets[n].arg3,"E"])}),e.state.mob.resets.equipmentResets.map(function(a,n){return t.executeSql("INSERT INTO `areas_"+e.props.areas.activeArea+"_resets` (arg1, arg2, arg3, command) VALUES (?, ?, ?, ?)",[e.state.mobId,e.state.mob.resets.equipmentResets[n].arg2,e.state.mob.resets.equipmentResets[n].arg3,"G"])})},function(e){console.log(e)})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(V.a,{placeholder:!0},s.a.createElement(z.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(z.a.Row,{verticalAlign:"top"},s.a.createElement(z.a.Column,{width:6},s.a.createElement("div",{id:"mobs-list",className:"fade-in"},s.a.createElement(J.a,{divided:!0,relaxed:!0},this.state.mobs.map(function(e){return s.a.createElement(J.a.Item,{key:"mob"+e.vnum},s.a.createElement(J.a.Content,null,s.a.createElement(J.a.Header,null,"(",e.vnum,") ",e.short_description),s.a.createElement(J.a.Description,null,s.a.createElement(F.a,{text:!0,horizontal:"true"},s.a.createElement(F.a.Item,{as:M.a,to:"/mobs/"+e.vnum+"/"},"Edit Mob")))))})),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(K.a,{as:M.a,to:"/mobs/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(z.a.Column,{width:10},s.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(Q.a,{negative:!0},s.a.createElement(Q.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e,t){return s.a.createElement("p",{key:"error-"+t},e.message)})),s.a.createElement(Y.a,null,s.a.createElement(Y.a.Group,{widths:"equal"},s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Namelist ",s.a.createElement($.a,{trigger:s.a.createElement(K.a,{icon:"help circle"}),content:"This is the list of names that your mob can be found under"})),s.a.createElement(Z.a,{name:"name",value:this.state.mob.name,placeholder:"name",onChange:this.handleChange})),s.a.createElement(Y.a.Input,{fluid:!0,name:"short_description",value:this.state.mob.short_description,label:"Short Desc",placeholder:"Short desc",onChange:this.handleChange})),s.a.createElement(Y.a.Input,{fluid:!0,name:"long_description",label:"Long Desc",placeholder:"",value:this.state.mob.long_description,onChange:this.handleChange}),s.a.createElement(Y.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.mob.description,onChange:this.handleChange}),s.a.createElement(Y.a.Group,{widths:"equal"},s.a.createElement(Y.a.Input,{fluid:!0,name:"alignment",label:"Alignment",placeholder:"0",value:this.state.mob.alignment,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"level",label:"Level",placeholder:"0",value:this.state.mob.level,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"exp_level",label:"EXP Level",placeholder:"0",value:this.state.mob.exp_level,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"gold",label:"Gold",placeholder:"0",value:this.state.mob.gold,onChange:this.handleChange}),s.a.createElement(Y.a.Select,{fluid:!0,name:"sex",label:"Gender",options:x.mobs.genders,placeholder:"Gender",onChange:this.handleChange})),s.a.createElement(Y.a.Group,{widths:"equal"},s.a.createElement(Y.a.Input,{fluid:!0,name:"hp",label:"HP",placeholder:"0",value:this.state.mob.hp,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"hitroll",label:"Hitroll",placeholder:"0",value:this.state.mob.hitroll,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"damroll",label:"Damroll",placeholder:"0",value:this.state.mob.damroll,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"ac",label:"Armor",placeholder:"0",value:this.state.mob.ac,onChange:this.handleChange})),s.a.createElement(Y.a.Dropdown,{label:"Affects",placeholder:"Affects",name:"affected_by",fluid:!0,multiple:!0,selection:!0,options:x.mobs.affects,value:this.state.mob.affected_by,onChange:function(t,a){var n=a.value;return e.setState(function(e){return{mob:Object(W.a)({},e.mob,{affected_by:Object(H.a)(n)})}})}}),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h4"},"Resets"),this.state.mob.resets.mobResets.map(function(t,a){return s.a.createElement(Y.a.Group,{key:"mr-"+a},s.a.createElement(Y.a.Field,{width:2},s.a.createElement(Y.a.Input,{fluid:!0,name:"arg2",value:t.arg2,label:"# Spawned",placeholder:"0",onChange:e.handleResetsChange(a,"mobResets","arg2")})),s.a.createElement(Y.a.Field,{width:12},s.a.createElement(Y.a.Dropdown,{label:"Room To Spawn In",name:"arg3",fluid:!0,selection:!0,options:e.state.rooms,value:t.arg3,onChange:e.handleResetsChange(a,"mobResets","arg3")})),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{icon:!0},s.a.createElement(X.a,{name:"minus"}))),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{onClick:function(){return e.addNewResets("mobResets")},icon:!0},s.a.createElement(X.a,{name:"plus"}))))}),s.a.createElement(te.a,{as:"h4"},"Inventory"),this.state.mob.resets.inventoryResets.map(function(t,a){return s.a.createElement(Y.a.Group,{key:"ir-"+a},s.a.createElement(Y.a.Field,{width:2},s.a.createElement(Y.a.Input,{fluid:!0,label:"Load %",name:"arg2",value:e.state.mob.resets.inventoryResets[a].arg2,onChange:e.handleResetsChange(a,"inventoryResets","arg2")})),s.a.createElement(Y.a.Field,{width:12},s.a.createElement(Y.a.Dropdown,{label:"Objects in Inventory",name:"arg3",fluid:!0,selection:!0,options:e.state.objects,onChange:e.handleResetsChange(a,"mobResets","arg3")})),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{icon:!0},s.a.createElement(X.a,{name:"minus"}))),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{onClick:function(){return e.addNewResets("inventoryResets")},icon:!0},s.a.createElement(X.a,{name:"plus"}))))}),s.a.createElement(te.a,{as:"h4"},"Equipment"),this.state.mob.resets.equipmentResets.map(function(t,a){return s.a.createElement(Y.a.Group,{key:"er-"+a},s.a.createElement(Y.a.Field,{width:2},s.a.createElement(Y.a.Input,{fluid:!0,label:"Load %",name:"arg2",value:e.state.mob.resets.equipmentResets[a].arg2,onChange:e.handleResetsChange(a,"equipmentResets","arg2")})),s.a.createElement(Y.a.Field,{width:12},s.a.createElement(Y.a.Dropdown,{label:"Objects Equipped",name:"arg3",fluid:!0,selection:!0,options:e.state.objects,onChange:e.handleResetsChange(a,"mobResets","arg3")})),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{icon:!0},s.a.createElement(X.a,{name:"minus"}))),s.a.createElement(Y.a.Field,{width:1},s.a.createElement("label",null,"\xa0"),s.a.createElement(K.a,{onClick:function(){return e.addNewResets("equipmentResets")},icon:!0},s.a.createElement(X.a,{name:"plus"}))))})),s.a.createElement(Y.a.Button,{content:this.state.niceName,onClick:this.handleSubmit}))))))))}}]),t}(s.a.Component);var oe=Object(T.a)(Object(b.b)(function(e){return e})(ne)),re=f()();function se(e){return function(t){t(function(e){return{type:"ACTIVE_AREA",areaId:e}}(e)),localStorage.setItem("activeArea",e),re.push("/rooms/")}}var le=a(394),ie=a(398),ce=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){if(n.setState({hasErrors:!1,message:""}),""===n.state.area.name&&n.setState({hasErrors:!0,message:"You must provide an area name."}),""===n.state.area.created_by&&n.setState({hasErrors:!0,message:"You need to provide a name so we can credit the right person."}),!0===n.state.hasErrors)return!1;0===n.state.areaId?n.createArea():n.updateArea()},n.setNewActiveArea=function(){return n.props.actions.setActiveArea(n.state.areaId)},n.handleChange=n.handleChange.bind(Object(B.a)(Object(B.a)(n))),n.getAreas=n.getAreas.bind(Object(B.a)(Object(B.a)(n))),n.state={hasErrors:!1,niceName:"Create Area",areaId:0,areas:[{name:"My First Area",starting_vnum:"",id:0}],area:{name:"",starting_vnum:"",id:0}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getAreas",value:function(){var e=this;_.get("/areas",[],function(t){!0===t.data.success&&e.setState({areas:t.data.results})})}},{key:"componentDidMount",value:function(e){this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){console.log(this.props.match.params.areaId),this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"getArea",value:function(e){var t=this;_.get("/areas/"+e,[],function(e){!0===e.data.success?t.setState({area:e.data.results}):t.setState({hasErrors:!0,message:e.data.message})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{area:Object(W.a)({},e.area,Object(U.a)({},a,n))}})}},{key:"createArea",value:function(){var e=this;_.post("/areas",{name:this.state.area.name,starting_vnum:this.state.area.starting_vnum},function(t){!0===t.data.success?e.setState({areas:t.data.results,message:t.data.message}):e.setState({hasErrors:!0,message:t.data.message})})}},{key:"updateArea",value:function(){var e=this;_.put("/areas/"+this.state.areaId,{name:this.state.area.name,starting_vnum:this.state.area.starting_vnum},function(t){!0===t.data.success?e.setState({areas:t.data.results,message:t.data.message}):e.setState({hasErrors:!0,message:t.data.message})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(z.a,{celled:!0,columns:2,textAlign:"center"},s.a.createElement(z.a.Row,{stretched:!0,verticalAlign:"top"},s.a.createElement(z.a.Column,{className:"area-list",mobile:16,tablet:8,computer:3},s.a.createElement("div",{id:"areas-list",className:"fade-in"},this.state.areas.map(function(t,a){return s.a.createElement(le.a,{key:"area-"+t.ID},s.a.createElement(le.a.Content,null,s.a.createElement(le.a.Header,null,s.a.createElement(M.a,{to:"/areas/"+t.ID+"/"}," ",t.name)),s.a.createElement(le.a.Meta,null,e.props.user.username)))}),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(K.a,{color:"orange",as:M.a,to:"/areas/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"})," Create New")))),s.a.createElement(z.a.Column,{mobile:16,tablet:8,computer:13},s.a.createElement("div",{id:"area-form",className:"fade-in"},s.a.createElement(Y.a,null,s.a.createElement(Y.a.Group,{widths:"equal"},s.a.createElement(Y.a.Input,{fluid:!0,name:"name",label:"Area Name",placeholder:"Area Name Here",value:this.state.area.name,onChange:this.handleChange}),s.a.createElement(Y.a.Input,{fluid:!0,name:"starting_vnum",label:"Starting VNUM",value:this.state.area.starting_vnum,onChange:this.handleChange})),s.a.createElement(Y.a.Group,{widths:"equal"},s.a.createElement(Y.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}),0!==this.state.areaId&&s.a.createElement(Y.a.Button,{color:"green",onClick:this.setNewActiveArea},"Open ",this.state.area.name," for Building"))))))),!0===this.state.hasErrors&&s.a.createElement(ie.a,{open:!0},s.a.createElement(V.a,{style:{backgroundColor:"red",right:"5%",bottom:"5%",position:"fixed",zIndex:1e3}},s.a.createElement(te.a,{style:{color:"#fff"}},this.state.message))))}}]),t}(s.a.Component);var ue=Object(T.a)(Object(b.b)(function(e){return e},function(e){return{actions:Object(R.b)(o,e)}})(ce)),me=a(388),de=a(392),he=function(e){function t(e,a){var n;Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=function(e,t){var a=t.name,o=t.value;n.setState(function(e){return{object:Object(W.a)({},e.object,Object(U.a)({},a,o))}}),n.setState({unsaved:!0})},n.handleSubmit=function(){console.log(n.state.object);var e=[];n.setState({errors:e}),0===e.length&&(0===n.state.objectId?n.saveObject():n.updateObject())},n.handleExtrasChange=function(e,t){return function(a){var o=n.state.object.extra_descr_data.map(function(n,o){return e!==o?n:Object(W.a)({},n,Object(U.a)({},t,a.target.value))});n.setState(function(e){return{object:Object(W.a)({},e.object,{extra_descr_data:o})}})}},n.handleAffectsChange=function(e,t){return function(a){var o=n.state.object.affect_data.map(function(n,o){return e!==o?n:Object(W.a)({},n,Object(U.a)({},t,a.target.value))});n.setState(function(e){return{object:Object(W.a)({},e.object,{affect_data:o})}})}};var o=localStorage.getItem("selectedArea");return null===o&&(o=0),n.state={selectedArea:o,errors:[],objectId:0,niceName:"Create Object",objects:[{id:0,name:"first object areaname",short_description:"my first object",description:"This is my first object. Ain't it perty?"}],object:{id:0,name:"",short_description:"",description:"",item_type:0,extra_flags:[],wear_flags:[],value0:0,value1:0,value2:0,value3:0,weight:0,cost:0,affect_data:[],extra_descr_data:[],chpoweron:"",chpoweroff:"",chpoweruse:"",victpoweron:"",victpoweroff:"",victpoweruse:"",spectype:0,specpower:0}},n.getObject=n.getObject.bind(Object(B.a)(Object(B.a)(n))),n.getObjects=n.getObjects.bind(Object(B.a)(Object(B.a)(n))),n.saveObject=n.saveObject.bind(Object(B.a)(Object(B.a)(n))),n.updateObject=n.updateObject.bind(Object(B.a)(Object(B.a)(n))),n.handleChange=n.handleChange.bind(Object(B.a)(Object(B.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(B.a)(Object(B.a)(n))),n.addNewExtras=n.addNewExtras.bind(Object(B.a)(Object(B.a)(n))),n.addNewAffects=n.addNewAffects.bind(Object(B.a)(Object(B.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"getObjects",value:function(){var e=openDatabase(x.database.name,x.database.version,x.database.description,x.database.size),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM objects WHERE area_id = ? LIMIT 10000",[t.props.areas.activeArea],function(e,n){if(n.rows.length>=1)for(var o=0;o<n.rows.length;o++)a.push({id:n.rows[o].id,name:n.rows[o].name,short_description:n.rows[o].short_description,description:n.rows[o].description,item_type:n.rows[o].item_type,extra_flags:n.rows[o].extra_flags,wear_flags:n.rows[o].wear_flags,value0:n.rows[o].value0,value1:n.rows[o].value1,value2:n.rows[o].value2,value3:n.rows[o].value3,weight:n.rows[o].weight,cost:n.rows[o].cost,affect_data:n.rows[o].affect_data,extra_descr_data:n.rows[o].extra_descr_data,chpoweron:n.rows[o].chpoweron,chpoweroff:n.rows[o].chpoweroff,chpoweruse:n.rows[o].chpoweruse,victpoweron:n.rows[o].victpoweron,victpoweroff:n.rows[o].victpoweroff,victpoweruse:n.rows[o].victpoweruse,spectype:n.rows[o].spectype,specpower:n.rows[o].specpower});else a=[{id:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({objects:a})})})}},{key:"getObject",value:function(e){var t=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(a){a.executeSql("SELECT * FROM objects WHERE area_id = '"+t.props.areas.activeArea+"' AND id = '"+e+"'",[],function(e,a){if(a.rows.length){var n=a.rows[0];t.setState({object:{id:n.id,name:n.name,short_description:n.short_description,description:n.description,item_type:n.item_type,extra_flags:JSON.parse(n.extra_flags),wear_flags:JSON.parse(n.wear_flags),value0:n.value0,value1:n.value1,value2:n.value2,value3:n.value3,weight:n.weight,cost:n.cost,affect_data:JSON.parse(n.affect_data),extra_descr_data:JSON.parse(n.extra_descr_data),chpoweron:n.chpoweron,chpoweroff:n.chpoweroff,chpoweruse:n.chpoweruse,victpoweron:n.victpoweron,victpoweroff:n.victpoweroff,victpoweruse:n.victpoweruse,spectype:n.spectype,specpower:n.specpower}})}},function(e){console.log(e)})})}},{key:"saveObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("INSERT INTO objects (name, short_description, description, item_type, extra_flags, wear_flags, value0, value1, value2, value3, weight, cost, affect_data, extra_descr_data, chpoweron, chpoweroff, chpoweruse, victpoweron, victpoweroff, victpoweruse, spectype, specpower, area_id) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.props.areas.activeArea],function(t,a){e.getObjects(),console.log(t),console.log(a),e.props.history.push("/objects/"+a.insertId+"/")},function(e,t){console.log(t.message)})})}},{key:"updateObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("UPDATE objects SET name = ?, short_description = ?, description = ?, item_type = ?, extra_flags = ?, wear_flags = ?, value0 = ?, value1 = ?, value2 = ?, value3 = ?, weight = ?, cost = ?, affect_data = ?, extra_descr_data = ?, chpoweron = ?, chpoweroff = ?, chpoweruse = ?, victpoweron = ?, victpoweroff = ?, victpoweruse = ?, spectype = ?, specpower = ? WHERE id = ?",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.state.objectId],function(t,a){e.getObjects()},function(e,t){console.log(t.message)})})}},{key:"addNewExtras",value:function(){var e=this;this.setState(function(t){return{object:Object(W.a)({},t.object,{extra_descr_data:e.state.object.extra_descr_data.concat([{keywords:"",description:""}])})}})}},{key:"addNewAffects",value:function(){var e=this;this.setState(function(t){return{object:Object(W.a)({},t.object,{affect_data:e.state.object.affect_data.concat([{location:0,modifier:0}])})}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(V.a,{placeholder:!0},s.a.createElement(z.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(me.a,{vertical:!0}),s.a.createElement(z.a.Row,{verticalAlign:"top"},s.a.createElement(z.a.Column,null,s.a.createElement("div",{id:"objects-list",className:"fade-in"},this.state.objects.map(function(e){return s.a.createElement(J.a,{key:e.id,divided:!0,relaxed:!0},s.a.createElement(J.a.Item,null,s.a.createElement(J.a.Content,null,s.a.createElement(J.a.Header,null,s.a.createElement(M.a,{to:"/objects/"+e.id+"/"},"(",e.id,") ",e.name)),s.a.createElement(J.a.Description,null,e.short_description))))}),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(K.a,{as:M.a,to:"/objects/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(z.a.Column,null,s.a.createElement("div",{id:"object-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(Q.a,{negative:!0},s.a.createElement(Q.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(Y.a,null,s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,{width:10},s.a.createElement("label",null,"Namelist ",s.a.createElement($.a,{trigger:s.a.createElement(K.a,{icon:"help circle"}),content:"This is the list of names that your object can be found under. If you don't add it here, it won't show up on locate. Seperate each keyword by a space - no commas."})),s.a.createElement(Z.a,{name:"name",value:this.state.object.name,placeholder:"name",onChange:this.handleChange})),s.a.createElement(Y.a.Field,{width:3},s.a.createElement("label",null,"Gold Value"),s.a.createElement(Z.a,{name:"gold",value:this.state.object.gold,placeholder:"0",onChange:this.handleChange})),s.a.createElement(Y.a.Field,{width:3},s.a.createElement("label",null,"Weight"),s.a.createElement(Z.a,{name:"weight",value:this.state.object.weight,placeholder:"0",onChange:this.handleChange}))),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Short Description ",s.a.createElement($.a,{trigger:s.a.createElement(K.a,{icon:"help circle"}),content:"The string that shows in someone's inventory."})),s.a.createElement(Z.a,{name:"short_description",value:this.state.object.short_description,placeholder:"",onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Description ",s.a.createElement($.a,{trigger:s.a.createElement(K.a,{icon:"help circle"}),content:"The string that shows up when an item is on the ground, or you look at it."})),s.a.createElement(Z.a,{name:"description",value:this.state.object.description,placeholder:"",onChange:this.handleChange})),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h3"},"Item Type & Stats"),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Item Type"),s.a.createElement(de.a,{selection:!0,name:"item_type",options:x.object.item_types,value:this.state.object.item_type,onChange:this.handleChange})),1===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Hours"),s.a.createElement(Z.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange}))),(2===this.state.object.item_type||10===this.state.object.item_type||26===this.state.object.item_type)&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell Level"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell 1"),s.a.createElement(de.a,{selection:!0,name:"value1",value:this.state.object.value1,onChange:this.handleChange,options:x.object.spells})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell 2"),s.a.createElement(de.a,{selection:!0,name:"value2",value:this.state.object.value2,onChange:this.handleChange,options:x.object.spells})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell 3"),s.a.createElement(de.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:x.object.spells}))),(3===this.state.object.item_type||4===this.state.object.item_type)&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Level"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Max Charges"),s.a.createElement(Z.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Current Charges"),s.a.createElement(Z.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell"),s.a.createElement(de.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:x.object.spells}))),5===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell"),s.a.createElement(de.a,{selection:!0,name:"value0",value:this.state.object.value0,onChange:this.handleChange,options:x.object.spells})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Weapon Type"),s.a.createElement(de.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:x.object.weapon_types}))),9===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Spell"),s.a.createElement(de.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:x.object.spells}))),15===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,{width:2},s.a.createElement("label",null,"Weight"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),s.a.createElement(Y.a.Field,{width:6},s.a.createElement("label",null,"Key"),s.a.createElement(Z.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Flags"),s.a.createElement(de.a,{multiple:!0,selection:!0,name:"value1",onChange:this.handleChange,options:[{value:1,text:"Closable",key:1},{value:4,text:"Closed",key:2},{value:8,text:"Locked",key:3},{value:2,text:"Pickproof",key:4}],value:this.state.object.value1}))),17===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,{width:2},s.a.createElement("label",null,"Max Amount"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),s.a.createElement(Y.a.Field,{width:6},s.a.createElement("label",null,"Current Amount"),s.a.createElement(Z.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Liquid"),s.a.createElement(de.a,{selection:!0,name:"value2",onChange:this.handleChange,options:x.object.liquids,value:this.state.object.value2}))),19===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Hours Full"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange}))),20===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Gold"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange}))),27===this.state.object.item_type&&s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Destination VNum"),s.a.createElement(Z.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Current Value"),s.a.createElement(Z.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Max Value"),s.a.createElement(Z.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Original VNum"),s.a.createElement(Z.a,{name:"value3",value:this.state.object.value3,onChange:this.handleChange})))),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Extra Flags"),s.a.createElement(de.a,{label:"Extra Flags",name:"extra_flags",fluid:!0,multiple:!0,selection:!0,options:x.object.extra_flags,value:this.state.object.extra_flags})),s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Wear Flags ",s.a.createElement($.a,{trigger:s.a.createElement(K.a,{icon:"help circle"}),content:"If you do not select Take as an option, you will not be able to pick this up no matter what other option you select."})),s.a.createElement(de.a,{name:"wear_flags",fluid:!0,multiple:!0,selection:!0,options:x.object.wear_flags,value:this.state.object.wear_flags})," />"),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h3"},s.a.createElement(K.a,{onClick:this.addNewExtras},s.a.createElement(X.a,{name:"plus circle"}),"Add New"),"Extra Descriptions"),this.state.object.extra_descr_data.map(function(t,a){return s.a.createElement(Y.a.Group,{key:a},s.a.createElement(Y.a.Input,{fluid:!0,name:"keywords",value:e.state.object.extra_descr_data[a].keywords,label:"Keywords",placeholder:"keyword",onChange:e.handleExtrasChange(a,"keywords")}),s.a.createElement(Y.a.TextArea,{rows:1,name:"description",label:"Description",placeholder:"What shows up when someone looks at the keyword?",value:e.state.object.extra_descr_data[a].description,onChange:e.handleExtrasChange(a,"description")}))})),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h3"},s.a.createElement(K.a,{onClick:this.addNewAffects},s.a.createElement(X.a,{name:"plus circle"}),"Add New"),"Affects"),this.state.object.affect_data.map(function(t,a){return s.a.createElement(Y.a.Group,{key:a},s.a.createElement(Y.a.Field,null,s.a.createElement("label",null,"Attribute"),s.a.createElement(de.a,{name:"location",fluid:!0,selection:!0,options:x.object.affects,value:e.state.object.affect_data[a].location,onChange:e.handleAffectsChange(a,"location")})),s.a.createElement(Y.a.Input,{fluid:!0,name:"modifier",value:e.state.object.affect_data[a].modifier,label:"Amount",placeholder:"0",onChange:e.handleExtrasChange(a,"modifier")}))})),s.a.createElement(Y.a.Button,{onClick:this.handleSubmit,content:this.state.niceName}))))))))}}]),t}(s.a.Component);var pe=Object(T.a)(Object(b.b)(function(e){return e},function(e){return{}})(he)),ve=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(V.a,{id:"dashboard",placeholder:!0},s.a.createElement(te.a,{textAlign:"center",as:"h1"},"Online Creation Tool for The Death of Caine MUD"),s.a.createElement("p",null,'To begin, click on Areas. This will allow you to create your first area. Once you have created your area, click on the green "Open AREANAME for Building" button. This will allow you start adding in Rooms, Objects, and Mobs.'))}}]),t}(r.Component);var be=Object(T.a)(Object(b.b)(function(e){return e},function(e){return{}})(ve)),ge=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=function(e,t){var a=t.name,o=t.value;n.setState(function(e){return{room:Object(W.a)({},e.room,Object(U.a)({},a,o))}})},n.handleSubmit=function(){if(n.state.errors.length>0)return!1;0===n.state.roomId?n.createRoom():n.updateRoom()},n.handleExtrasChange=function(e,t){return function(a){var o=n.state.room.extra_descr_data.map(function(n,o){return e!==o?n:Object(W.a)({},n,Object(U.a)({},t,a.target.value))});n.setState(function(e){return{room:Object(W.a)({},e.room,{extra_descr_data:o})}})}},n.handleExitsChange=function(e,t){return function(a){var o=n.state.room.exits.map(function(n,o){return e!==o?n:Object(W.a)({},n,Object(U.a)({},t,a.target.value))});n.setState(function(e){return{room:Object(W.a)({},e.room,{exits:o})}})}},n.state={errors:[],niceName:"Create Room",roomId:0,rooms:[],room:{id:0,name:"",description:"",room_flags:[],sector_type:0,exits:[{keywords:"",description:"",exit_info:[],vnum:0,door:0,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:1,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:2,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:3,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:4,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:5,key:0}],extra_descr_data:[],roomtext_data:[]},directions:["up","down","north","east","south","west"],exitRooms:[]},n.handleChange=n.handleChange.bind(Object(B.a)(Object(B.a)(n))),n.getRooms=n.getRooms.bind(Object(B.a)(Object(B.a)(n))),n.getRoom=n.getRoom.bind(Object(B.a)(Object(B.a)(n))),n.addNewExtras=n.addNewExtras.bind(Object(B.a)(Object(B.a)(n))),n.addNewExits=n.addNewExits.bind(Object(B.a)(Object(B.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getRooms",value:function(){var e=openDatabase(x.database.name,x.database.version,x.database.description,x.database.size),t=this,a=[],n=[];e.transaction(function(e){e.executeSql("SELECT * FROM rooms LIMIT 10000",[],function(e,o){if(o.rows.length>=1){for(var r=0;r<o.rows.length;r++)a.push({id:o.rows[r].id,name:o.rows[r].name,description:o.rows[r].description,room_flags:o.rows[r].room_flags,sector_type:o.rows[r].sector_type,exits:o.rows[r].exits,extra_descr_data:o.rows[r].extra_descr_data,roomtext_data:o.rows[r].roomtext_data}),n.push({key:r,text:o.rows[r].name,value:o.rows[r].id});t.setState({rooms:a})}})})}},{key:"componentDidMount",value:function(e){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getRoom(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getRoom(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"getRoom",value:function(e){var t=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(a){a.executeSql("SELECT * FROM rooms WHERE id = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({room:{id:a.rows[0].id,name:a.rows[0].name,description:a.rows[0].description,room_flags:JSON.parse(a.rows[0].room_flags),sector_type:a.rows[0].sector_type,exits:JSON.parse(a.rows[0].exits),extra_descr_data:JSON.parse(a.rows[0].extra_descr_data),roomtext_data:JSON.parse(a.rows[0].roomtext_data)}})},function(e){console.log(e)})})}},{key:"createRoom",value:function(){var e=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("INSERT INTO rooms (name, description, room_flags, sector_type, exits, extra_descr_data, roomtext_data, area_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.state.room.name,e.state.room.description,JSON.stringify(e.state.room.room_flags),e.state.room.sector_type,JSON.stringify(e.state.room.exits),JSON.stringify(e.state.room.extra_descr_data),JSON.stringify(e.state.room.roomtext_data),e.props.areas.activeArea],function(t,a){console.log(t),console.log(a),e.props.history.push("/rooms/"+a.insertId+"/")},function(e,t){console.log(t)})})}},{key:"updateRoom",value:function(){var e=this;openDatabase(x.database.name,x.database.version,x.database.description,x.database.size).transaction(function(t){t.executeSql("UPDATE rooms SET name = ?, description = ?, room_flags = ?, sector_type = ?, exits = ?, extra_descr_data = ?, roomtext_data = ? WHERE id = ?",[e.state.room.name,e.state.room.description,JSON.stringify(e.state.room.room_flags),e.state.room.sector_type,JSON.stringify(e.state.room.exits),JSON.stringify(e.state.room.extra_descr_data),JSON.stringify(e.state.room.roomtext_data),e.state.roomId],function(e,t){this.getRooms()},function(e,t){console.log(t)})})}},{key:"addNewExtras",value:function(){var e=this;this.setState(function(t){return{room:Object(W.a)({},t.room,{extra_descr_data:e.state.room.extra_descr_data.concat([{keywords:"",description:""}])})}})}},{key:"addNewExits",value:function(){var e=this;this.setState(function(t){return{room:Object(W.a)({},t.room,{exits:e.state.room.exits.concat([{door:0,vnum:0,description:"",keyword:"",key:0,exit_info:0}])})}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(V.a,{placeholder:!0},s.a.createElement(z.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(me.a,{vertical:!0}),s.a.createElement(z.a.Row,{verticalAlign:"top"},s.a.createElement(z.a.Column,null,s.a.createElement("div",{id:"areas-list",className:"fade-in"},s.a.createElement(J.a,{divided:!0,relaxed:!0},this.state.rooms.map(function(e){return s.a.createElement(J.a.Item,{key:"room-"+e.id},s.a.createElement(J.a.Content,null,s.a.createElement(M.a,{to:"/rooms/"+e.id+"/"},s.a.createElement(J.a.Header,null,"(",e.id,") ",e.name)),s.a.createElement(J.a.Description,null,e.created_by)))})),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(K.a,{as:M.a,to:"/rooms/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(z.a.Column,null,s.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(Q.a,{negative:!0},s.a.createElement(Q.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(Y.a,null,s.a.createElement(Y.a.Input,{fluid:!0,name:"name",value:this.state.room.name,label:"Room Name",placeholder:"Room Name Here",onChange:this.handleChange}),s.a.createElement(Y.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.room.description,onChange:this.handleChange}),s.a.createElement(Y.a.Dropdown,{label:"Room Flags",name:"room_flags",fluid:!0,multiple:!0,selection:!0,options:x.rooms.flags,value:this.state.room.room_flags,onChange:function(t,a){var n=a.value;return e.setState(function(e){return{room:Object(W.a)({},e.room,{room_flags:Object(H.a)(n)})}})}}),s.a.createElement(Y.a.Dropdown,{label:"Room Sector",name:"sector_type",fluid:!0,selection:!0,options:x.rooms.sectors,value:this.state.room.sector_type,onChange:this.handleChange}),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h3"},s.a.createElement(K.a,{onClick:this.addNewExtras},s.a.createElement(X.a,{name:"plus circle"}),"Add New"),"Extra Room Descriptions"),this.state.room.extra_descr_data.map(function(t,a){return s.a.createElement(Y.a.Group,{key:a},s.a.createElement(Y.a.Input,{fluid:!0,name:"keywords",value:e.state.room.extra_descr_data[a].keywords,label:"Keywords",placeholder:"keyword",onChange:e.handleExtrasChange(a,"keywords")}),s.a.createElement(Y.a.TextArea,{rows:1,name:"description",label:"Description",placeholder:"What shows up when someone looks at the keyword?",value:e.state.room.extra_descr_data[a].description,onChange:e.handleExtrasChange(a,"description")}))})),s.a.createElement(ee.a,null,s.a.createElement(te.a,{as:"h3"},s.a.createElement(K.a,{onClick:this.addNewExits},s.a.createElement(X.a,{name:"plus circle"})," Add New"),"Exits"),s.a.createElement(V.a.Group,{raised:!0},this.state.directions.map(function(t,a){return s.a.createElement(V.a,{className:"exit",key:"exit-"+a},s.a.createElement(te.a,{as:"h3",block:!0},t),s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,{width:6},s.a.createElement("label",null,"Exit Room"),s.a.createElement(de.a,{selection:!0,options:e.state.exitRooms,value:e.state.room.exits[a].vnum})),s.a.createElement(Y.a.Field,{width:10},s.a.createElement("label",null,"\xa0"),s.a.createElement(de.a,{selection:!0,multiple:!0,value:e.state.room.exits[a].exit_info,options:x.rooms.exit_info_flags}))),s.a.createElement(Y.a.Group,null,s.a.createElement(Y.a.Field,{width:4},s.a.createElement("label",null,"Keywords"),s.a.createElement(Z.a,{name:"keywords",value:e.state.room.exits[a].keywords})),s.a.createElement(Y.a.Field,{width:12},s.a.createElement("label",null,"Description"),s.a.createElement(Z.a,{name:"description",value:e.state.room.exits[a].description}))))}))),s.a.createElement(Y.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}))))))))}}]),t}(s.a.Component);var fe=Object(T.a)(Object(b.b)(function(e){return e},function(e){return{actions:Object(R.b)(o,e)}})(ge)),ye=(a(376),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(B.a)(Object(B.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(B.a)(Object(B.a)(a))),a.state={username:"",password:"",submitted:!1,error:!1,open:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(U.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,n=t.password;a&&n&&this.props.actions.authenticateUser(a,n)}},{key:"render",value:function(){return s.a.createElement("div",{className:"login-form"},s.a.createElement(z.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},s.a.createElement(z.a.Column,{style:{maxWidth:450}},s.a.createElement(D.a,{src:P.a}),s.a.createElement(te.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),s.a.createElement(Y.a,{size:"large",onSubmit:this.handleSubmit},s.a.createElement(V.a,{stacked:!0},s.a.createElement(Y.a.Input,{name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleChange}),s.a.createElement(Y.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),s.a.createElement(K.a,{color:"teal",fluid:!0,size:"large"}," Login"))),s.a.createElement(Q.a,null," New to us? ",s.a.createElement(M.a,{to:"/register/"},"Sign Up")," "))),!0===this.props.user.loginHasErrors&&s.a.createElement(ie.a,{open:!0},s.a.createElement(V.a,{style:{backgroundColor:"red",right:"5%",bottom:"5%",position:"fixed",zIndex:1e3}},s.a.createElement(te.a,{style:{color:"#fff"}},this.props.user.loginError))))}}]),t}(s.a.Component));var Ee=Object(b.b)(function(e){return e},function(e){return{actions:Object(R.b)(n,e)}})(ye),xe=f()(),ke=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("marcoPromoToken");null!==e?this.props.actions.checkToken(e):xe.push("/login/")}},{key:"render",value:function(){var e=0!==this.props.user.id?"logged-in":"logged-out";return s.a.createElement("div",{className:e+" marcopromo-app-container"},s.a.createElement(p.a,{history:xe},s.a.createElement("div",null,0===this.props.user.id&&s.a.createElement("div",{id:"login"},s.a.createElement(v.a,{exact:!0,path:"/login",niceName:"",component:Ee})),this.props.user.id>0&&s.a.createElement("div",{className:"content"},s.a.createElement(q,null),s.a.createElement("div",{id:"content_bin"},s.a.createElement(v.a,{exact:!0,path:"/",niceName:"Welcome",component:be}),s.a.createElement(v.a,{exact:!0,path:"/areas/:areaId/",niceName:"Areas",component:ue}),s.a.createElement(v.a,{exact:!0,path:"/areas/",niceName:"Areas",component:ue}),s.a.createElement(v.a,{exact:!0,path:"/mobs/",niceName:"Mobs",component:oe}),s.a.createElement(v.a,{exact:!0,path:"/mobs/:mobId/",niceName:"Edit Mob",component:oe}),s.a.createElement(v.a,{exact:!0,path:"/objects/",nameName:"Create Object",component:pe}),s.a.createElement(v.a,{exact:!0,path:"/objects/:objectId/",nameName:"Update Object",component:pe}),s.a.createElement(v.a,{exact:!0,path:"/rooms/",nameName:"Create Room",component:fe}),s.a.createElement(v.a,{exact:!0,path:"/rooms/:roomId/",nameName:"Update Room",component:fe}),s.a.createElement(v.a,{exact:!0,path:"/login/",nameName:"Login to OLC",component:Ee}))))))}}]),t}(r.Component);var je=Object(b.b)(function(e){return e},function(e){return{actions:Object(R.b)(n,e)}})(ke),we=a(140),_e=0;null!==localStorage.getItem("activeArea")&&(_e=localStorage.getItem("activeArea"));var Oe={areas:{activeArea:_e},user:{username:"",id:0,token:"",email:""}};var Ce=Object(R.c)({areas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"areas":return a.areas=t.areas,console.log(a),a;case"ACTIVE_AREA":return a.activeArea=t.areaId,a;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"LOGOUT":return a.isLoggedIn=!1,a.id=null,a.username=null,a.email=null,a.role=null,a.token=null,sessionStorage.clear(),a;case"LOGIN_HAS_ERRORS":return a.isLoggedIn=!1,a.loginHasErrors=!0,a.loginError=t.loginError,a;case"LOGIN":return a.isLoggedIn=!0,a.loginHasErrors=!1,a.id=t.userId,a.username=t.username,a.role=t.role,a.email=t.email,a.token=t.token,a;default:return e}}});var Se,Ie=(Se=Oe,Object(R.e)(Ce,Se,Object(R.d)(Object(R.a)(we.a))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=Ie;i.a.render(s.a.createElement(b.a,{store:Ne},s.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){e.exports=a.p+"static/media/Logo.4b14043b.svg"}},[[207,2,1]]]);
//# sourceMappingURL=main.cb260ec4.chunk.js.map