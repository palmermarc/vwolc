(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t){},170:function(e,t,a){e.exports=a.p+"static/media/Logo.4b14043b.svg"},199:function(e,t,a){e.exports=a(348)},204:function(e,t,a){},213:function(e,t,a){},215:function(e,t,a){},348:function(e,t,a){"use strict";a.r(t);var o={};a.r(o),a.d(o,"setActiveArea",function(){return z});var n=a(0),s=a.n(n),r=a(56),i=a.n(r),l=(a(204),a(22)),c=a(23),m=a(27),d=a(26),u=a(28),h=a(371),b=a(358),p=a(24),f=a(80),v=a.n(f),g=a(169),E=a(21),y=(a(213),a(355)),_=a(349),O=a(364),w=a(360),x=a(170),j=a.n(x),k=(a(215),function(e){function t(e,a){var o;Object(l.a)(this,t),o=Object(m.a)(this,Object(d.a)(t).call(this,e,a));var n=localStorage.getItem("selectedArea");return null===n&&(n=0),o.state={opened:!0},o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Sidebar"},s.a.createElement("header",{className:"App-header"},s.a.createElement(w.a,{to:"/"},s.a.createElement(_.a,{src:j.a,alt:"The Death of Cain: Online Area Builder",title:"The Death of Cain: Online Area Builder"})),s.a.createElement("nav",null,s.a.createElement(O.a,{text:!0,vertical:!0},s.a.createElement(O.a.Item,{as:w.a,to:"/areas/"},"Areas"),0!==this.props.areas.activeArea&&s.a.createElement("span",null,s.a.createElement(O.a.Item,{as:w.a,to:"/rooms/"},"Rooms"),s.a.createElement(O.a.Item,{as:w.a,to:"/mobs/"},"Mobs"),s.a.createElement(O.a.Item,{as:w.a,to:"/objects/"},"Objects"))))))}}]),t}(n.Component));var T=Object(y.a)(Object(p.b)(function(e){return e},function(e){return{}})(k)),I=a(87),N=a(34),S=a(35),A=a(15),C=a(368),R=a(369),M=a(356),D=a(362),L=a(365),X=a(112),H=a(363),F=a(359),P=a(367),V=a(357),q={dbVersion:"1.0",dbName:"tdoc_olc",dbSize:2097152,dbDescription:"Local Storage database for the Online Area Builder for The Death of Caine mud."},W=a(329),G=function(e){function t(e,a){var o;return Object(l.a)(this,t),(o=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){var e=[];o.state.mob.ac<0&&e.push({field:"ac",message:"Armor must be a positive number."}),o.state.mob.ac>1e4&&e.push({field:"ac",message:"Armor cannot go higher than 10,000. This gives the mob a 95% damage reduction. Maybe you should make it stance to make it even stronger?"}),o.state.mob.hp<500&&e.push({field:"hp",message:"You cannot set the hp value to less than 500."}),o.state.mob.hp>25e4&&e.push({field:"hp",message:"You cannot set the hp value to more than 250000. Might we suggest increasing the remort level to make it tougher to kill?"}),0===o.state.mob.name.length&&e.push({field:"name",message:"Name cannot be blank."}),0===o.state.mob.short_description.length&&e.push({field:"short_description",message:"Short Description cannot be blank."}),0===o.state.mob.long_description.length&&e.push({field:"long_description",message:"Long Description cannot be blank."}),0===o.state.mob.description.length&&e.push({field:"description",message:"Description cannot be blank."}),(o.state.mob.alignment>1e3||o.state.mob.alignment<-1e3)&&e.push({field:"alignment",message:"Alignment must be between 1000 and -1000"}),o.state.mob.level<=0&&e.push({field:"level",message:"Mob level must be greater than 0."}),o.state.mob.level>25e4&&e.push({field:"level",message:"Mob level cannot be greater than 250,000."}),o.state.mob.exp_level<=0&&e.push({field:"exp_level",message:"EXP level must be greater than 0."}),o.state.mob.exp_level>25e4&&e.push({field:"exp_level",message:"EXP level cannot be greater than 250,000."}),o.state.mob.hitroll<=0&&e.push({field:"hitroll",message:"Hitroll must be greater than 0."}),o.state.mob.hitroll>7500&&e.push({field:"hitroll",message:"Hitroll cannot be greater than 7,500."}),o.state.mob.damroll<=0&&e.push({field:"damroll",message:"Damroll must be greater than 0."}),o.state.mob.damroll>7500&&e.push({field:"damroll",message:"Damroll cannot be greater than 7,500."}),o.setState({errors:e}),0===e.length&&(0===o.state.mobId?o.saveMob():o.updateMob())},o.config=q,o.state={open:!1,errors:[],mobId:0,niceName:"Create Mob",mobs:[{vnum:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}],mob:{vnum:0,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0},genders:[{key:"0",text:"Unsullied",value:"0"},{key:"1",text:"Male",value:"1"},{key:"2",text:"Female",value:"2"}],affects:[{key:"0",text:"Invis",value:"2"},{key:"1",text:"Detect Invis",value:"8"},{key:"2",text:"Detect Hidden",value:"32"},{key:"3",text:"Shadow Plane",value:"64"},{key:"4",text:"Sanct",value:"128"},{key:"5",text:"Faerie Fire",value:"256"},{key:"6",text:"Infravision",value:"512"},{key:"7",text:"Prot vs Evil",value:"8192"},{key:"8",text:"Sneak",value:"32768"},{key:"9",text:"Hide",value:"65536"},{key:"10",text:"Flying",value:"524288"},{key:"11",text:"Pass Door",value:"1048576"},{key:"12",text:"Shadow Sight",value:"4194304"}]},o.getMob=o.getMob.bind(Object(A.a)(Object(A.a)(o))),o.getMobs=o.getMobs.bind(Object(A.a)(Object(A.a)(o))),o.saveMob=o.saveMob.bind(Object(A.a)(Object(A.a)(o))),o.updateMob=o.updateMob.bind(Object(A.a)(Object(A.a)(o))),o.handleChange=o.handleChange.bind(Object(A.a)(Object(A.a)(o))),o.handleSubmit=o.handleSubmit.bind(Object(A.a)(Object(A.a)(o))),o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"getMobs",value:function(){var e=openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM mobs WHERE area_id = ? LIMIT 10000",[t.props.areas.activeArea],function(e,o){if(o.rows.length>=1)for(var n=0;n<o.rows.length;n++)a.push({id:o.rows[n].id,vnum:o.rows[n].vnum,name:o.rows[n].name,short_description:o.rows[n].short_description,long_description:o.rows[n].long_description,description:o.rows[n].description,act:o.rows[n].act,affected_by:o.rows[n].affected_by,alignment:o.rows[n].alignment,level:o.rows[n].level,exp_level:o.rows[n].exp_level,hitroll:o.rows[n].hitroll,damroll:o.rows[n].damroll,ac:o.rows[n].ac,hp:o.rows[n].hp,gold:o.rows[n].gold,sex:o.rows[n].sex});else a=[{id:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({mobs:a})})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;("level"!==a&&"exp_level"!==a&&"alignment"!==a&&"hitroll"!==a&&"damroll"!==a&&"ac"!==a&&"hp"!==a&&"gold"!==a&&"sex"!==a||W(o))&&(this.setState(function(e){return{mob:Object(S.a)({},e.mob,Object(N.a)({},a,o))}}),this.setState({unsaved:!0}))}},{key:"getMob",value:function(e){var t=this,a={vnum:1,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0};openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(o){o.executeSql("SELECT * FROM mobs WHERE area_id = '"+t.props.areas.activeArea+"' AND id = '"+e+"'",[],function(e,o){o.rows.length&&((a=o.rows[0]).affected_by=JSON.parse(a.affected_by),t.setState({mob:a}))},function(e){console.log(e)})})}},{key:"saveMob",value:function(){var e=this;openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(t){t.executeSql("INSERT INTO mobs (vnum, name, short_description, long_description, description, act, affected_by, alignment, level, exp_level, hitroll, damroll, ac, hp, gold, sex, area_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.state.mob.vnum,e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex,e.props.areas.activeArea],function(t,a){e.props.history.push("/mobs/"+a.insertId+"/")},function(e){console.log(e)})})}},{key:"updateMob",value:function(){var e=this;openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(t){t.executeSql("UPDATE MOBS set name = ?, short_description = ?, long_description = ?, description = ?, act = ?, affected_by = ?,  alignment = ?, level = ?, exp_level = ?, hitroll = ?, damroll = ?, ac = ?, hp = ?, gold = ?, sex = ? WHERE id = ?",[e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex,e.state.mobId],function(t,a){e.getMobs()},function(e){console.log(e)})})}},{key:"render",value:function(){var e=this;this.state.open;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(C.a,{placeholder:!0},s.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(M.a,{vertical:!0}),s.a.createElement(R.a.Row,{verticalAlign:"top"},s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"mobs-list",className:"fade-in"},s.a.createElement(D.a,{divided:!0,relaxed:!0},this.state.mobs.map(function(e){return s.a.createElement(D.a.Item,{key:"mob"+e.id},s.a.createElement(D.a.Content,null,s.a.createElement(D.a.Header,null,"(",e.id,") ",e.short_description),s.a.createElement(D.a.Description,null,s.a.createElement(O.a,{text:!0,horizontal:"true"},s.a.createElement(O.a.Item,{as:w.a,to:"/mobs/"+e.id+"/"},"Edit Mob")))))})),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(L.a,{as:w.a,to:"/mobs/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(H.a,{negative:!0},s.a.createElement(H.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(F.a,{onSubmit:this.handleSubmit},s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Field,null,s.a.createElement("label",null,"Namelist ",s.a.createElement(P.a,{trigger:s.a.createElement(L.a,{icon:"help circle"}),content:"This is the list of names that your mob can be found under"})),s.a.createElement(V.a,{name:"name",value:this.state.mob.name,placeholder:"name",onChange:this.handleChange})),s.a.createElement(F.a.Input,{fluid:!0,name:"short_description",value:this.state.mob.short_description,label:"Short Desc",placeholder:"Short desc",onChange:this.handleChange})),s.a.createElement(F.a.Input,{fluid:!0,name:"long_description",label:"Long Desc",placeholder:"",value:this.state.mob.long_description,onChange:this.handleChange}),s.a.createElement(F.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.mob.description,onChange:this.handleChange}),s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Input,{fluid:!0,name:"alignment",label:"Alignment",placeholder:"0",value:this.state.mob.alignment,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"level",label:"Level",placeholder:"0",value:this.state.mob.level,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"exp_level",label:"EXP Level",placeholder:"0",value:this.state.mob.exp_level,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"gold",label:"Gold",placeholder:"0",value:this.state.mob.gold,onChange:this.handleChange}),s.a.createElement(F.a.Select,{fluid:!0,name:"sex",label:"Gender",options:this.state.genders,placeholder:"Gender",onChange:this.handleChange})),s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Input,{fluid:!0,name:"hp",label:"HP",placeholder:"0",value:this.state.mob.hp,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"hitroll",label:"Hitroll",placeholder:"0",value:this.state.mob.hitroll,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"damroll",label:"Damroll",placeholder:"0",value:this.state.mob.damroll,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"ac",label:"Armor",placeholder:"0",value:this.state.mob.ac,onChange:this.handleChange})),s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Dropdown,{label:"Affects",placeholder:"Affects",name:"affected_by",fluid:!0,multiple:!0,selection:!0,options:this.state.affects,value:this.state.mob.affected_by,onChange:function(t,a){var o=a.value;return e.setState(function(e){return{mob:Object(S.a)({},e.mob,{affected_by:Object(I.a)(o)})}})}})),s.a.createElement(F.a.Button,{content:this.state.niceName}))))))))}}]),t}(s.a.Component);var B=Object(y.a)(Object(p.b)(function(e){return e})(G)),U=v()();function z(e){return function(t){t(function(e){return{type:"ACTIVE_AREA",areaId:e}}(e)),localStorage.setItem("activeArea",e),U.push("/rooms/")}}var Y=function(e){function t(e,a){var o;return Object(l.a)(this,t),(o=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){if(""===o.state.area.name&&o.setState({errors:[{field:"name",message:"You must provide an area name."}]}),""===o.state.area.created_by&&o.setState({errors:[{field:"created_by",message:"You need to provide a name so we can credit the right person."}]}),o.state.errors.length>0)return!1;0===o.state.areaId?o.createArea():o.updateArea()},o.setNewActiveArea=function(){return o.props.actions.setActiveArea(o.state.areaId)},o.config=q,o.handleChange=o.handleChange.bind(Object(A.a)(Object(A.a)(o))),o.getAreas=o.getAreas.bind(Object(A.a)(Object(A.a)(o))),o.state={errors:[],niceName:"Create Area",areaId:0,areas:[{name:"My First Area",created_by:"Your Name Here",id:0}],area:{name:"",created_by:"",id:0}},o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getAreas",value:function(){var e=openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM areas LIMIT 10000",[],function(e,o){if(o.rows.length>=1)for(var n=0;n<o.rows.length;n++)a.push({id:o.rows[n].id,name:o.rows[n].name,created_by:o.rows[n].created_by});else a=[{id:0,name:"My First Area",created_by:"Your Name Here"}];t.setState({areas:a})})})}},{key:"componentDidMount",value:function(e){this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"getArea",value:function(e){var t=this;openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(a){a.executeSql("SELECT * FROM areas WHERE id = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({area:{id:a.rows[0].id,name:a.rows[0].name,created_by:a.rows[0].created_by}})},function(e){console.log(e)})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(function(e){return{area:Object(S.a)({},e.area,Object(N.a)({},a,o))}})}},{key:"createArea",value:function(){var e=this;openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(t){t.executeSql("INSERT INTO areas (name, created_by) VALUES (?, ?)",[e.state.area.name,e.state.area.created_by],function(t,a){e.props.history.push("/areas/"+a.insertId+"/")},function(e,t){console.log(t)})})}},{key:"updateArea",value:function(){var e=this;openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(t){t.executeSql("UPDATE areas SET name = ?, created_by = ? WHERE rowid = ?",[e.state.area.name,e.state.area.created_by,e.state.areaId],function(t,a){e.getAreas()},function(e,t){console.log(t)})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(C.a,{placeholder:!0},s.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(M.a,{vertical:!0}),s.a.createElement(R.a.Row,{verticalAlign:"top"},s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"areas-list",className:"fade-in"},s.a.createElement(D.a,{divided:!0,relaxed:!0},this.state.areas.map(function(e){return s.a.createElement(D.a.Item,{key:"area-"+e.id},s.a.createElement(D.a.Content,null,s.a.createElement(w.a,{to:"/areas/"+e.id+"/"},s.a.createElement(D.a.Header,null,"(",e.id,") ",e.name)),s.a.createElement(D.a.Description,null,e.created_by)))})),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(L.a,{as:w.a,to:"/areas/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(H.a,{negative:!0},s.a.createElement(H.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(F.a,null,s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Input,{fluid:!0,name:"name",label:"Area Name",placeholder:"Area Name Here",value:this.state.area.name,onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"created_by",label:"Created By",placeholder:"Your Name Here",value:this.state.area.created_by,onChange:this.handleChange})),s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}),0!==this.state.areaId&&s.a.createElement(F.a.Button,{color:"green",onClick:this.setNewActiveArea},"Open ",this.state.area.name," for Building")))))))))}}]),t}(s.a.Component);var J=Object(y.a)(Object(p.b)(function(e){return e},function(e){return{actions:Object(E.b)(o,e)}})(Y)),K=a(167),Q=a(361),$=function(e){function t(e,a){var o;Object(l.a)(this,t),(o=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleSubmit=function(){console.log(o.state.object);var e=[];o.setState({errors:e}),0===e.length&&(0===o.state.objectId?o.saveObject():o.updateObject())},o.config=q;var n=localStorage.getItem("selectedArea");return null===n&&(n=0),o.state={selectedArea:n,errors:[],objectId:0,niceName:"Create Object",objects:[{id:0,name:"first object areaname",short_description:"my first object",description:"This is my first object. Ain't it perty?"}],object:{id:0,name:"",short_description:"",description:"",item_type:0,extra_flags:[],wear_flags:[],value0:0,value1:0,value2:0,value3:0,weight:0,cost:0,affect_data:[],extra_descr_data:[],chpoweron:"",chpoweroff:"",chpoweruse:"",victpoweron:"",victpoweroff:"",victpoweruse:"",spectype:0,specpower:0},extra_flags:[{key:"1",text:"Glow",value:"1"},{key:"2",text:"Hum",value:"2"},{key:"4",text:"Throw",value:"4"},{key:"8",text:"Keep",value:"8"},{key:"16",text:"Vanish",value:"16"},{key:"32",text:"Invis",value:"32"},{key:"64",text:"Magic",value:"64"},{key:"128",text:"No Drop",value:"128"},{key:"256",text:"Bless",value:"256"},{key:"512",text:"Anti-Good",value:"512"},{key:"1024",text:"Anti-Evil",value:"1024"},{key:"2048",text:"Anti-Neutral",value:"2048"},{key:"4096",text:"No Remove",value:"4096"},{key:"8192",text:"Inventory",value:"8192"},{key:"16384",text:"Loyal",value:"16384"},{key:"32768",text:"Shadowplane",value:"32768"},{key:"65536",text:"Silver",value:"65536"},{key:"131072",text:"No Quest Card",value:"131072"},{key:"262144",text:"Quest Item",value:"262144"},{key:"524288",text:"Clan Iotem",value:"524288"},{key:"1048576",text:"Auto Claim",value:"1048576"},{key:"2097152",text:"Silent Vanish",value:"2097152"}],wear_flags:[{key:1,text:"Take",value:1},{key:2,text:"Finger",value:2},{key:4,text:"Neck",value:4},{key:8,text:"Body",value:8},{key:16,text:"Head",value:16},{key:32,text:"Legs",value:32},{key:64,text:"Feet",value:64},{key:128,text:"Hands",value:128},{key:256,text:"Arms",value:256},{key:512,text:"Shield",value:512},{key:1024,text:"About",value:1024},{key:2048,text:"Waist",value:2048},{key:4096,text:"Wrist",value:4096},{key:8192,text:"Wield",value:8192},{key:16384,text:"Hold",value:16384},{key:32768,text:"Wear Face",value:32768}],specials:[{key:1,text:"Activate",value:"1"},{key:2,text:"Twist",value:"2"},{key:4,text:"Press",value:"4"},{key:8,text:"Pull",value:"8"},{key:16,text:"Target",value:"16"},{key:32,text:"Spell",value:"32"},{key:64,text:"Transporter",value:"64"},{key:128,text:"Teleporter",value:"128"},{key:256,text:"Delay 1",value:"256"},{key:512,text:"Delay 2",value:"512"},{key:1024,text:"Object",value:"1024"},{key:2048,text:"Mobile",value:"2048"},{key:4096,text:"Action",value:"4096"},{key:8192,text:"Morph",value:"8192"}]},o.getObject=o.getObject.bind(Object(A.a)(Object(A.a)(o))),o.getObjects=o.getObjects.bind(Object(A.a)(Object(A.a)(o))),o.saveObject=o.saveObject.bind(Object(A.a)(Object(A.a)(o))),o.updateObject=o.updateObject.bind(Object(A.a)(Object(A.a)(o))),o.handleChange=o.handleChange.bind(Object(A.a)(Object(A.a)(o))),o.handleSubmit=o.handleSubmit.bind(Object(A.a)(Object(A.a)(o))),o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"getObjects",value:function(){var e=openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM objects WHERE area_id = ? LIMIT 10000",[t.props.areas.activeArea],function(e,o){if(o.rows.length>=1)for(var n=0;n<o.rows.length;n++)a.push({id:o.rows[n].id,name:o.rows[n].name,short_description:o.rows[n].short_description,description:o.rows[n].description,item_type:o.rows[n].item_type,extra_flags:o.rows[n].extra_flags,wear_flags:o.rows[n].wear_flags,value0:o.rows[n].value0,value1:o.rows[n].value1,value2:o.rows[n].value2,value3:o.rows[n].value3,weight:o.rows[n].weight,cost:o.rows[n].cost,affect_data:o.rows[n].affect_data,extra_descr_data:o.rows[n].extra_descr_data,chpoweron:o.rows[n].chpoweron,chpoweroff:o.rows[n].chpoweroff,chpoweruse:o.rows[n].chpoweruse,victpoweron:o.rows[n].victpoweron,victpoweroff:o.rows[n].victpoweroff,victpoweruse:o.rows[n].victpoweruse,spectype:o.rows[n].spectype,specpower:o.rows[n].specpower});else a=[{id:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({objects:a})})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(function(e){return{object:Object(S.a)({},e.object,Object(N.a)({},a,o))}}),this.setState({unsaved:!0})}},{key:"getObject",value:function(e){console.log(e);var t=this,a={vnum:1,name:"",short_description:"",description:"",act:0,affected_by:0,alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0};openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(o){o.executeSql("SELECT * FROM objects WHERE area_id = '"+t.props.areas.activeArea+"' AND id = '"+e+"'",[],function(e,o){o.rows.length&&(a=o.rows[0],t.setState({object:a}))},function(e){console.log(e)})}),console.log(a)}},{key:"saveObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(t){t.executeSql("INSERT INTO objects (name, short_description, description, item_type, extra_flags, wear_flags, value0, value1, value2, value3, weight, cost, affect_data, extra_descr_data, chpoweron, chpoweroff, chpoweruse, victpoweron, victpoweroff, victpoweruse, spectype, specpower, area_id) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.props.areas.activeArea],function(t,a){e.getObjects(),console.log(t),console.log(a),e.props.history.push("/objects/"+a.insertId+"/")},function(e,t){console.log(t.message)})})}},{key:"updateObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(t){t.executeSql("UPDATE objects SET name = ?, short_description = ?, description = ?, item_type = ?, extra_flags = ?, wear_flags = ?, value0 = ?, value1 = ?, value2 = ?, value3 = ?, weight = ?, cost = ?, affect_data = ?, extra_descr_data = ?, chpoweron = ?, chpoweroff = ?, chpoweruse = ?, victpoweron = ?, victpoweroff = ?, victpoweruse = ?, spectype = ?, specpower = ? WHERE id = ?",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.state.objectId],function(t,a){e.getObjects()},function(e,t){console.log(t.message)})})}},{key:"render",value:function(){return console.log(this.state),s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(C.a,{placeholder:!0},s.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(M.a,{vertical:!0}),s.a.createElement(R.a.Row,{verticalAlign:"top"},s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"objects-list",className:"fade-in"},this.state.objects.map(function(e){return s.a.createElement(D.a,{key:e.id,divided:!0,relaxed:!0},s.a.createElement(D.a.Item,null,s.a.createElement(D.a.Content,null,s.a.createElement(D.a.Header,null,s.a.createElement(w.a,{to:"/objects/"+e.id+"/"},"(",e.id,") ",e.name)),s.a.createElement(D.a.Description,null,e.short_description))))}),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(L.a,{as:w.a,to:"/objects/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"object-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(H.a,{negative:!0},s.a.createElement(H.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(F.a,{onSubmit:this.handleSubmit},s.a.createElement(F.a.Group,{widths:"equal"},s.a.createElement(F.a.Input,{fluid:!0,name:"name",label:"Name",value:this.state.object.name,placeholder:"name",onChange:this.handleChange}),s.a.createElement(F.a.Input,{fluid:!0,name:"short_description",value:this.state.object.short_description,label:"Short Desc",placeholder:"Short desc",onChange:this.handleChange})),s.a.createElement(F.a.Input,{fluid:!0,name:"description",label:"Long Desc",placeholder:"Long Description",value:this.state.object.description,onChange:this.handleChange}),s.a.createElement(F.a.Group,null,s.a.createElement(K.a,null,"Extra Flags"),s.a.createElement(Q.a,{label:"Extra Flags",name:"extra_flags",fluid:!0,multiple:!0,selection:!0,options:this.state.extra_flags})),s.a.createElement(F.a.Group,null,s.a.createElement(K.a,null,"Wear Flags"),s.a.createElement(Q.a,{name:"wear_flags",fluid:!0,multiple:!0,selection:!0,options:this.state.wear_flags})),s.a.createElement(F.a.Group,null,s.a.createElement(K.a,null,"Specials"),s.a.createElement(Q.a,{name:"specials",fluid:!0,multiple:!0,selection:!0,options:this.state.specials})),s.a.createElement(F.a.Button,{content:this.state.niceName}))))))))}}]),t}(s.a.Component);var Z=Object(y.a)(Object(p.b)(function(e){return e},function(e){return{}})($)),ee=a(370),te=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(C.a,{id:"dashboard",placeholder:!0},s.a.createElement(ee.a,{textAlign:"center",as:"h1"},"Online Creation Tool for The Death of Caine MUD"),s.a.createElement("p",null,'To begin, click on Areas. This will allow you to create your first area. Once you have created your area, click on the green "Open AREANAME for Building" button. This will allow you start adding in Rooms, Objects, and Mobs.'))}}]),t}(n.Component);var ae=Object(y.a)(Object(p.b)(function(e){return e},function(e){return{}})(te)),oe=function(e){function t(e,a){var o;return Object(l.a)(this,t),(o=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=function(e,t){var a=t.name,n=t.value;console.log(a),console.log(n),o.setState(function(e){return{room:Object(S.a)({},e.room,Object(N.a)({},a,n))}})},o.handleSubmit=function(){if(console.log("test"),o.state.errors.length>0)return!1;console.log("test2"),0===o.state.roomId?o.createRoom():o.updateRoom()},o.config=q,o.state={errors:[],niceName:"Create Room",roomId:0,rooms:[],room:{id:0,name:"",description:"",room_flags:[],sector_type:0,exits:[],extra_descr_data:[],roomtext_data:[]},room_flags:[{text:"ROOM_DARK",value:1,key:0},{text:"ROOM_SACRED",value:2,key:1},{text:"ROOM_NO_MOB",value:4,key:2},{text:"ROOM_INDOORS",value:8,key:3},{text:"ROOM_QUIET",value:16,key:4},{text:"ROOM_NO_SHADOWPLANE",value:32,key:5},{text:"ROOM_NO_SPELL",value:64,key:6},{text:"ROOM_NO_CLAIMORCALL",value:128,key:7},{text:"ROOM_BANK",value:256,key:8},{text:"ROOM_PRIVATE",value:512,key:9},{text:"ROOM_SAFE",value:1024,key:10},{text:"ROOM_SOLITARY",value:2048,key:11},{text:"ROOM_NO_RECALL",value:8192,key:12},{text:"ROOM_CONE_OF_SILENCE",value:16384,key:13},{text:"ROOM_NO_TELEPORT",value:32768,key:14},{text:"ROOM_NO_MIST",value:65536,key:15},{text:"ROOM_NO_TRANSPORT",value:131072,key:16},{text:"ROOM_NO_ESCAPE",value:262144,key:17},{text:"ROOM_NO_HOME",value:524288,key:18},{text:"ROOM_NO_SUMMON",value:1048576,key:19}],room_sectors:[{text:"Inside",value:0,key:0},{text:"City",value:1,key:1},{text:"Field",value:2,key:2},{text:"Forest",value:3,key:3},{text:"Hills",value:4,key:4},{text:"Mountain",value:5,key:5},{text:"Water (Swim)",value:6,key:6},{text:"Water (Noswim)",value:7,key:7},{text:"Air",value:9,key:9},{text:"Desert",value:10,key:10}]},o.handleChange=o.handleChange.bind(Object(A.a)(Object(A.a)(o))),o.getRooms=o.getRooms.bind(Object(A.a)(Object(A.a)(o))),o.getRoom=o.getRoom.bind(Object(A.a)(Object(A.a)(o))),o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getRooms",value:function(){var e=openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM rooms LIMIT 10000",[],function(e,o){if(o.rows.length>=1){for(var n=0;n<o.rows.length;n++)a.push({id:o.rows[n].id,name:o.rows[n].name,description:o.rows[n].description,room_flags:o.rows[n].room_flags,sector_type:o.rows[n].sector_type,exits:o.rows[n].exits,extra_descr_data:o.rows[n].extra_descr_data,roomtext_data:o.rows[n].roomtext_data});t.setState({rooms:a})}})})}},{key:"componentDidMount",value:function(e){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getArea(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getArea(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"getRoom",value:function(e){var t=this;openDatabase(q.dbName,q.dbVersion,q.dbDescription,q.dbSize).transaction(function(a){a.executeSql("SELECT * FROM rooms WHERE id = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({room:{id:a.rows[0].id,name:a.rows[0].name,description:a.rows[0].description,room_flags:a.rows[0].room_flags,sector_type:a.rows[0].sector_type,exits:a.rows[0].exits,extra_descr_data:a.rows[0].extra_descr_data,roomtext_data:a.rows[0].roomtext_data}})},function(e){console.log(e)})})}},{key:"createRoom",value:function(){console.log("In the create function");var e=this;openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(t){t.executeSql("INSERT INTO rooms (id, name, description, room_flags, sector_type, exits, extra_descr_data, roomtext_data, area_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.state.room.id,e.state.room.name,e.state.room.description,JSON.stringify(e.state.room.room_flags),e.state.room.sector_type,JSON.stringify(e.state.room.exits),JSON.stringify(e.state.room.extra_descr_data),JSON.stringify(e.state.room.roomtext_data),e.props.areas.activeArea],function(t,a){console.log(t),console.log(a),e.props.history.push("/rooms/"+a.insertId+"/")},function(e,t){console.log(t)})})}},{key:"updateRoom",value:function(){openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"wrap fade-in"},s.a.createElement(C.a,{placeholder:!0},s.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},s.a.createElement(M.a,{vertical:!0}),s.a.createElement(R.a.Row,{verticalAlign:"top"},s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"areas-list",className:"fade-in"},s.a.createElement(D.a,{divided:!0,relaxed:!0},this.state.rooms.map(function(e){return s.a.createElement(D.a.Item,{key:"room-"+e.id},s.a.createElement(D.a.Content,null,s.a.createElement(w.a,{to:"/rooms/"+e.id+"/"},s.a.createElement(D.a.Header,null,"(",e.id,") ",e.name)),s.a.createElement(D.a.Description,null,e.created_by)))})),s.a.createElement("div",{id:"view-header-section"},s.a.createElement(L.a,{as:w.a,to:"/rooms/",className:"view-create-new"},s.a.createElement(X.a,{name:"plus"}),"Create New")))),s.a.createElement(R.a.Column,null,s.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&s.a.createElement(H.a,{negative:!0},s.a.createElement(H.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return s.a.createElement("p",null,e.message)})),s.a.createElement(F.a,null,s.a.createElement(F.a.Input,{fluid:!0,name:"name",value:this.state.room.name,label:"Room Name",placeholder:"Room Name Here",onChange:this.handleChange}),s.a.createElement(F.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.room.description,onChange:this.handleChange}),s.a.createElement(F.a.Dropdown,{label:"Room Flags",name:"room_flags",fluid:!0,multiple:!0,selection:!0,options:this.state.room_flags,value:this.state.room.room_flags,onChange:function(t,a){var o=a.value;return e.setState(function(e){return{room:Object(S.a)({},e.room,{room_flags:Object(I.a)(o)})}})}}),s.a.createElement(F.a.Dropdown,{label:"Room Sector",name:"sector_type",fluid:!0,selection:!0,options:this.state.room_sectors,value:this.state.room.sector_type,onChange:this.handleChange}),s.a.createElement(F.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}))))))))}}]),t}(s.a.Component);var ne=Object(y.a)(Object(p.b)(function(e){return e},function(e){return{actions:Object(E.b)(o,e)}})(oe)),se=new(function(){function e(){Object(l.a)(this,e),this.config=q}return Object(c.a)(e,[{key:"createDatabases",value:function(){openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS areas (id INTEGER PRIMARY KEY, name TEXT, created_by TEXT)"),e.executeSql("CREATE TABLE IF NOT EXISTS mobs (id INTEGER PRIMARY KEY, vnum INTEGER, name TEXT, short_description TEXT, long_description TEXT, description TEXT, act TEXT, affected_by TEXT, alignment TEXT, level INT,  exp_level INT, hitroll INT, damroll INT, ac INT, hp INT, gold INT, sex INT, area_id INT)"),e.executeSql("CREATE TABLE IF NOT EXISTS objects (id INTEGER PRIMARY KEY, vnum INT, name TEXT, short_description TEXT, description TEXT, act TEXT, item_type INTEGER, extra_flags TEXT, wear_flags TEXT, value0 INT, value1 INT, value2 INT, value3 INT, weight INT, cost INT, affect_data TEXT, extra_descr_data TEXT, chpoweron TEXT, chpoweroff TEXT, chpoweruse TEXT, victpoweron TEXT, victpoweroff TEXT, victpoweruse TEXT, spectype INT, specpower INT, affected_by TEXT, area_id INT);"),e.executeSql("CREATE TABLE IF NOT EXISTS rooms (id INTEGER PRIMARY KEY, name TEXT, description TEXT, room_flags TEXT, sector_type INTEGER, exits TEXT, extra_descr_data TEXT, roomtext_data TEXT, area_id INTEGER)")}),localStorage.setItem("database","1.1")}}]),e}()),re=v()(),ie=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){"1.1"!==localStorage.getItem("dbVersion")&&se.createDatabases()}},{key:"render",value:function(){return s.a.createElement("div",{className:"marcopromo-app-container"},s.a.createElement(h.a,{history:re},s.a.createElement("div",{id:"",className:"content"},s.a.createElement(T,null),s.a.createElement("div",{id:"content_bin"},s.a.createElement(b.a,{exact:!0,path:"/",niceName:"Welcome",component:ae}),s.a.createElement(b.a,{exact:!0,path:"/areas/",niceName:"Areas",component:J}),s.a.createElement(b.a,{exact:!0,path:"/areas/:areaId/",niceName:"Areas",component:J}),s.a.createElement(b.a,{exact:!0,path:"/mobs/",niceName:"Mobs",component:B}),s.a.createElement(b.a,{exact:!0,path:"/mobs/:mobId/",niceName:"Edit Mob",component:B}),s.a.createElement(b.a,{exact:!0,path:"/objects/",nameName:"Create Object",component:Z}),s.a.createElement(b.a,{exact:!0,path:"/objects/:objectId/",nameName:"Update Object",component:Z}),s.a.createElement(b.a,{exact:!0,path:"/rooms/",nameName:"Create Room",component:ne}),s.a.createElement(b.a,{exact:!0,path:"/rooms/:roomId/",nameName:"Update Room",component:ne})))))}}]),t}(n.Component);var le=Object(p.b)(function(e){return e},function(e){return{actions:Object(E.b)(g,e)}})(ie),ce=a(121),me=0;null!==localStorage.getItem("activeArea")&&(me=localStorage.getItem("activeArea"));var de={areas:{activeArea:me}};var ue=Object(E.c)({areas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"areas":return a.areas=t.areas,console.log(a),a;case"ACTIVE_AREA":return a.activeArea=t.areaId,a;default:return e}}});var he,be=(he=de,Object(E.e)(ue,he,Object(E.d)(Object(E.a)(ce.a))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=be;i.a.render(s.a.createElement(p.a,{store:pe},s.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,2,1]]]);
//# sourceMappingURL=main.53537322.chunk.js.map