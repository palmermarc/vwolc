(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t){},170:function(e,t,a){e.exports=a.p+"static/media/Logo.4267e72a.svg"},199:function(e,t,a){e.exports=a(348)},204:function(e,t,a){},213:function(e,t,a){},215:function(e,t,a){},348:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setActiveArea",function(){return U});var l=a(0),o=a.n(l),r=a(56),s=a.n(r),i=(a(204),a(23)),c=a(24),u=a(28),m=a(27),d=a(29),h=a(372),p=a(359),v=a(25),b=a(80),y=a.n(b),f=a(169),g=a(22),x=(a(213),a(355)),E=a(349),k=a(365),w=a(361),j=a(170),_=a.n(j),C=(a(215),function(e){function t(e,a){var n;Object(i.a)(this,t),n=Object(u.a)(this,Object(m.a)(t).call(this,e,a));var l=localStorage.getItem("selectedArea");return null===l&&(l=0),n.state={opened:!0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Sidebar"},o.a.createElement("header",{className:"App-header"},o.a.createElement(w.a,{to:"/"},o.a.createElement(E.a,{src:_.a,alt:"The Death of Cain: Online Area Builder",title:"The Death of Cain: Online Area Builder"})),o.a.createElement("nav",null,o.a.createElement(k.a,{text:!0,vertical:!0},o.a.createElement(k.a.Item,{as:w.a,to:"/areas/"},"Areas"),0!==this.props.areas.activeArea&&o.a.createElement("span",null,o.a.createElement(k.a.Item,{as:w.a,to:"/rooms/"},"Rooms"),o.a.createElement(k.a.Item,{as:w.a,to:"/mobs/"},"Mobs"),o.a.createElement(k.a.Item,{as:w.a,to:"/objects/"},"Objects"))))))}}]),t}(l.Component));var O=Object(x.a)(Object(v.b)(function(e){return e},function(e){return{}})(C)),N=a(87),T=a(31),S=a(16),I=a(10),A=a(369),R=a(370),D=a(356),F=a(363),M=a(366),G=a(112),P=a(364),H=a(360),X=a(368),L=a(357),q={database:{version:"1.0",name:"tdoc_olc",size:2097152,description:"Local Storage database for the Online Area Builder for The Death of Caine mud."},object:{extra_flags:[{key:1,text:"Glow",value:1},{key:2,text:"Hum",value:2},{key:3,text:"Throw",value:4},{key:4,text:"Keep",value:8},{key:5,text:"Vanish",value:16},{key:6,text:"Invis",value:32},{key:7,text:"Magic",value:64},{key:8,text:"No Drop",value:128},{key:9,text:"Bless",value:256},{key:10,text:"Anti-Good",value:512},{key:11,text:"Anti-Evil",value:1024},{key:12,text:"Anti-Neutral",value:2048},{key:13,text:"No Remove",value:4096},{key:14,text:"Inventory",value:8192},{key:15,text:"Loyal",value:16384},{key:16,text:"Shadowplane",value:32768},{key:17,text:"Silver",value:65536},{key:18,text:"No Quest Card",value:131072},{key:19,text:"Quest Item",value:262144},{key:20,text:"Clan Iotem",value:524288},{key:21,text:"Auto Claim",value:1048576},{key:22,text:"Silent Vanish",value:2097152}],wear_flags:[{key:1,text:"Take",value:1},{key:2,text:"Finger",value:2},{key:3,text:"Neck",value:4},{key:4,text:"Body",value:8},{key:5,text:"Head",value:16},{key:6,text:"Legs",value:32},{key:7,text:"Feet",value:64},{key:8,text:"Hands",value:128},{key:9,text:"Arms",value:256},{key:10,text:"Shield",value:512},{key:11,text:"About",value:1024},{key:12,text:"Waist",value:2048},{key:13,text:"Wrist",value:4096},{key:14,text:"Wield",value:8192},{key:15,text:"Hold",value:16384},{key:16,text:"Wear Face",value:32768}],specials:[{key:1,text:"Activate",value:1},{key:2,text:"Twist",value:2},{key:3,text:"Press",value:4},{key:4,text:"Pull",value:8},{key:5,text:"Target",value:16},{key:6,text:"Spell",value:32},{key:7,text:"Transporter",value:64},{key:8,text:"Teleporter",value:128},{key:9,text:"Delay 1",value:256},{key:10,text:"Delay 2",value:512},{key:11,text:"Object",value:1024},{key:12,text:"Mobile",value:2048},{key:13,text:"Action",value:4096},{key:14,text:"Morph",value:8192}],affects:[{text:"STR",value:1,key:1},{text:"DEX",value:2,key:2},{text:"INT",value:3,key:3},{text:"WIS",value:4,key:4},{text:"CON",value:5,key:5},{text:"Sex",value:6,key:6},{text:"Mana",value:12,key:12},{text:"Hp",value:13,key:13},{text:"Move",value:14,key:14},{text:"Gold",value:15,key:15},{text:"EXP",value:16,key:16},{text:"Armor",value:17,key:17},{text:"Hitroll",value:18,key:18},{text:"Damroll",value:19,key:19},{text:"SAVING_PARA",value:20,key:20},{text:"SAVING_ROD",value:21,key:21},{text:"SAVING_PETRI",value:22,key:22},{text:"SAVING_BREATH",value:23,key:23},{text:"SAVING_SPELL",value:24,key:24}],item_types:[{text:"Light",value:1,key:1},{text:"Scroll",value:2,key:2},{text:"Wand",value:3,key:3},{text:"Staff",value:4,key:4},{text:"Weapon",value:5,key:5},{text:"Treasure",value:8,key:6},{text:"Armor",value:9,key:7},{text:"Potion",value:10,key:8},{text:"Furniture",value:12,key:9},{text:"Trash",value:13,key:10},{text:"Container",value:15,key:11},{text:"Drink Container",value:17,key:12},{text:"Key",value:18,key:13},{text:"Food",value:19,key:14},{text:"Gold",value:20,key:15},{text:"Boat",value:22,key:16},{text:"NPC Corpse",value:23,key:17},{text:"Fountain",value:25,key:19},{text:"Pill",value:26,key:20},{text:"Portal",value:27,key:21}],spells:[{key:1,value:1,text:"acid blast"},{key:2,value:2,text:"armor"},{key:3,value:3,text:"bless"},{key:4,value:4,text:"blindness"},{key:5,value:5,text:"burning hands"},{key:6,value:6,text:"call lightning"},{key:7,value:7,text:"cause critical"},{key:8,value:8,text:"cause light"},{key:9,value:9,text:"cause serious"},{key:10,value:10,text:"change sex"},{key:11,value:11,text:"charm person"},{key:12,value:12,text:"chill touch"},{key:13,value:13,text:"colour spray"},{key:14,value:14,text:"continual light"},{key:15,value:15,text:"control weather"},{key:16,value:16,text:"create food"},{key:17,value:17,text:"create spring"},{key:18,value:18,text:"create water"},{key:19,value:19,text:"cure blindness"},{key:20,value:20,text:"cure critical"},{key:21,value:21,text:"cure light"},{key:22,value:22,text:"cure poison"},{key:23,value:23,text:"cure serious"},{key:24,value:24,text:"curse"},{key:25,value:25,text:"detect evil"},{key:26,value:26,text:"detect hidden"},{key:27,value:27,text:"detect invis"},{key:28,value:28,text:"detect magic"},{key:29,value:29,text:"detect poison"},{key:30,value:30,text:"dispel evil"},{key:31,value:31,text:"dispel magic"},{key:32,value:32,text:"earthquake"},{key:33,value:33,text:"enchant weapon"},{key:34,value:34,text:"energy drain"},{key:35,value:35,text:"faerie fire"},{key:36,value:36,text:"faerie fog"},{key:37,value:37,text:"fireball"},{key:38,value:38,text:"flamestrike"},{key:39,value:39,text:"fly"},{key:40,value:40,text:"gate"},{key:41,value:41,text:"giant strength"},{key:42,value:42,text:"harm"},{key:43,value:43,text:"heal"},{key:44,value:44,text:"identify"},{key:45,value:45,text:"infravision"},{key:46,value:46,text:"invis"},{key:47,value:47,text:"know alignment"},{key:48,value:48,text:"lightning bolt"},{key:49,value:49,text:"locate object"},{key:50,value:50,text:"magic missile"},{key:51,value:51,text:"mass invis"},{key:52,value:52,text:"pass door"},{key:53,value:53,text:"poison"},{key:54,value:54,text:"protection"},{key:55,value:55,text:"refresh"},{key:56,value:56,text:"remove curse"},{key:57,value:57,text:"sanctuary"},{key:58,value:58,text:"shield"},{key:59,value:59,text:"shocking grasp"},{key:60,value:60,text:"sleep"},{key:61,value:61,text:"stone skin"},{key:62,value:62,text:"summon"},{key:63,value:63,text:"teleport"},{key:64,value:64,text:"ventriloquate"},{key:65,value:65,text:"weaken"},{key:66,value:66,text:"word of recall"},{key:67,value:67,text:"acid breath"},{key:68,value:68,text:"fire breath"},{key:69,value:69,text:"frost breath"},{key:70,value:70,text:"gas breath"},{key:71,value:71,text:"lightning breath"},{key:72,value:72,text:"backstab"},{key:73,value:73,text:"disarm"},{key:74,value:74,text:"hide"},{key:75,value:75,text:"hurl"},{key:76,value:76,text:"kick"},{key:77,value:77,text:"peek"},{key:78,value:78,text:"pick lock"},{key:79,value:79,text:"rescue"},{key:80,value:80,text:"sneak"},{key:81,value:81,text:"steal"},{key:82,value:82,text:"general purpose"},{key:83,value:83,text:"high explosive"},{key:84,value:84,text:"guardian"},{key:85,value:85,text:"soulblade"},{key:86,value:86,text:"mana"},{key:87,value:87,text:"frenzy"},{key:88,value:88,text:"darkblessing"},{key:89,value:89,text:"portal"},{key:90,value:90,text:"energyflux"},{key:91,value:91,text:"voodoo"},{key:92,value:92,text:"transport"},{key:93,value:93,text:"regenerate"},{key:94,value:94,text:"clot"},{key:95,value:95,text:"mend"},{key:96,value:96,text:"punch"},{key:97,value:97,text:"quest"},{key:98,value:98,text:"minor creation"},{key:99,value:99,text:"brew"},{key:100,value:100,text:"scribe"},{key:101,value:101,text:"carve"},{key:102,value:102,text:"engrave"},{key:103,value:103,text:"bake"},{key:104,value:104,text:"mount"},{key:105,value:105,text:"berserk"},{key:106,value:106,text:"fastdraw"},{key:107,value:107,text:"hunt"},{key:108,value:108,text:"scan"},{key:109,value:109,text:"repair"},{key:110,value:110,text:"spellproof"},{key:111,value:111,text:"clone"},{key:112,value:112,text:"reveal"}],weapon_spells:[],weapon_types:[{key:0,value:0,text:"hit"},{key:1,value:1,text:"slice"},{key:2,value:2,text:"stab"},{key:3,value:3,text:"slash"},{key:4,value:4,text:"whip"},{key:5,value:5,text:"claw"},{key:6,value:6,text:"blast"},{key:7,value:7,text:"pound"},{key:8,value:8,text:"crush"},{key:9,value:9,text:"grep"},{key:10,value:10,text:"bite"},{key:11,value:12,text:"pierce"},{key:12,value:13,text:"suck"}],armor_spells:[],liquids:[{text:"water",value:0,key:1},{text:"beer",value:1,key:2},{text:"wine",value:2,key:3},{text:"ale",value:3,key:4},{text:"darkale",value:4,key:5},{text:"whisky",value:5,key:6},{text:"firebreather",value:7,key:7},{text:"specialty",value:8,key:8},{text:"slime",value:9,key:9},{text:"milk",value:10,key:10},{text:"tea",value:11,key:11},{text:"coffee",value:12,key:12},{text:"blood",value:13,key:13},{text:"saltwater",value:14,key:14}]},rooms:{flags:[{text:"Dark",value:1,key:0},{text:"Sacred",value:2,key:1},{text:"No Mob",value:4,key:2},{text:"Indoors",value:8,key:3},{text:"Quiet",value:16,key:4},{text:"No Shadowplane",value:32,key:5},{text:"No Spell",value:64,key:6},{text:"No Claim Or Call",value:128,key:7},{text:"Bank",value:256,key:8},{text:"Private",value:512,key:9},{text:"Safe",value:1024,key:10},{text:"Solitary",value:2048,key:11},{text:"No Recall",value:8192,key:12},{text:"Cone of Silence",value:16384,key:13},{text:"No Teleport",value:32768,key:14},{text:"No Mist",value:65536,key:15},{text:"No Transport",value:131072,key:16},{text:"No Escape",value:262144,key:17},{text:"No Home",value:524288,key:18},{text:"No Summon",value:1048576,key:19}],sectors:[{text:"Inside",value:0,key:0},{text:"City",value:1,key:1},{text:"Field",value:2,key:2},{text:"Forest",value:3,key:3},{text:"Hills",value:4,key:4},{text:"Mountain",value:5,key:5},{text:"Water (Swim)",value:6,key:6},{text:"Water (Noswim)",value:7,key:7},{text:"Air",value:9,key:9},{text:"Desert",value:10,key:10}],door_flags:[{text:"Door",value:"",key:0},{text:"Pick Proof",value:"",key:1},{text:"Bash Proof",value:"",key:2},{text:"No Pass Door",value:"",key:3}],exit_info_flags:[{text:"Door",value:1,key:0},{text:"Closed",value:2,key:1},{text:"Locked",value:4,key:2},{text:"Bashed",value:8,key:3},{text:"Bash-Proof",value:16,key:4},{text:"Pick-Proof",value:32,key:5},{text:"No Pass Door",value:64,key:6}]}},W=a(329),B=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e,a))).handleSubmit=function(){var e=[];n.state.mob.ac<0&&e.push({field:"ac",message:"Armor must be a positive number."}),n.state.mob.ac>1e4&&e.push({field:"ac",message:"Armor cannot go higher than 10,000. This gives the mob a 95% damage reduction. Maybe you should make it stance to make it even stronger?"}),n.state.mob.hp<500&&e.push({field:"hp",message:"You cannot set the hp value to less than 500."}),n.state.mob.hp>25e4&&e.push({field:"hp",message:"You cannot set the hp value to more than 250000. Might we suggest increasing the remort level to make it tougher to kill?"}),0===n.state.mob.name.length&&e.push({field:"name",message:"Name cannot be blank."}),0===n.state.mob.short_description.length&&e.push({field:"short_description",message:"Short Description cannot be blank."}),0===n.state.mob.long_description.length&&e.push({field:"long_description",message:"Long Description cannot be blank."}),0===n.state.mob.description.length&&e.push({field:"description",message:"Description cannot be blank."}),(n.state.mob.alignment>1e3||n.state.mob.alignment<-1e3)&&e.push({field:"alignment",message:"Alignment must be between 1000 and -1000"}),n.state.mob.level<=0&&e.push({field:"level",message:"Mob level must be greater than 0."}),n.state.mob.level>25e4&&e.push({field:"level",message:"Mob level cannot be greater than 250,000."}),n.state.mob.exp_level<=0&&e.push({field:"exp_level",message:"EXP level must be greater than 0."}),n.state.mob.exp_level>25e4&&e.push({field:"exp_level",message:"EXP level cannot be greater than 250,000."}),n.state.mob.hitroll<=0&&e.push({field:"hitroll",message:"Hitroll must be greater than 0."}),n.state.mob.hitroll>7500&&e.push({field:"hitroll",message:"Hitroll cannot be greater than 7,500."}),n.state.mob.damroll<=0&&e.push({field:"damroll",message:"Damroll must be greater than 0."}),n.state.mob.damroll>7500&&e.push({field:"damroll",message:"Damroll cannot be greater than 7,500."}),n.setState({errors:e}),0===e.length&&(0===n.state.mobId?n.saveMob():n.updateMob())},n.state={open:!1,errors:[],mobId:0,niceName:"Create Mob",mobs:[{vnum:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}],mob:{vnum:0,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0},genders:[{key:"0",text:"Unsullied",value:"0"},{key:"1",text:"Male",value:"1"},{key:"2",text:"Female",value:"2"}],affects:[{key:"0",text:"Invis",value:"2"},{key:"1",text:"Detect Invis",value:"8"},{key:"2",text:"Detect Hidden",value:"32"},{key:"3",text:"Shadow Plane",value:"64"},{key:"4",text:"Sanct",value:"128"},{key:"5",text:"Faerie Fire",value:"256"},{key:"6",text:"Infravision",value:"512"},{key:"7",text:"Prot vs Evil",value:"8192"},{key:"8",text:"Sneak",value:"32768"},{key:"9",text:"Hide",value:"65536"},{key:"10",text:"Flying",value:"524288"},{key:"11",text:"Pass Door",value:"1048576"},{key:"12",text:"Shadow Sight",value:"4194304"}]},n.getMob=n.getMob.bind(Object(I.a)(Object(I.a)(n))),n.getMobs=n.getMobs.bind(Object(I.a)(Object(I.a)(n))),n.saveMob=n.saveMob.bind(Object(I.a)(Object(I.a)(n))),n.updateMob=n.updateMob.bind(Object(I.a)(Object(I.a)(n))),n.handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(I.a)(Object(I.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getMobs(),"undefined"!==typeof this.props.match.params.mobId&&(this.setState({mobId:this.props.match.params.mobId,niceName:"Update Mob"}),this.getMob(this.props.match.params.mobId)),document.title=this.state.niceName}},{key:"getMobs",value:function(){var e=openDatabase(q.database.name,q.database.version,q.database.description,q.database.size),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM mobs WHERE area_id = ? LIMIT 10000",[t.props.areas.activeArea],function(e,n){if(n.rows.length>=1)for(var l=0;l<n.rows.length;l++)a.push({id:n.rows[l].id,vnum:n.rows[l].vnum,name:n.rows[l].name,short_description:n.rows[l].short_description,long_description:n.rows[l].long_description,description:n.rows[l].description,act:n.rows[l].act,affected_by:n.rows[l].affected_by,alignment:n.rows[l].alignment,level:n.rows[l].level,exp_level:n.rows[l].exp_level,hitroll:n.rows[l].hitroll,damroll:n.rows[l].damroll,ac:n.rows[l].ac,hp:n.rows[l].hp,gold:n.rows[l].gold,sex:n.rows[l].sex});else a=[{id:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({mobs:a})})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;("level"!==a&&"exp_level"!==a&&"alignment"!==a&&"hitroll"!==a&&"damroll"!==a&&"ac"!==a&&"hp"!==a&&"gold"!==a&&"sex"!==a||W(n))&&(this.setState(function(e){return{mob:Object(S.a)({},e.mob,Object(T.a)({},a,n))}}),this.setState({unsaved:!0}))}},{key:"getMob",value:function(e){var t=this,a={vnum:1,name:"",short_description:"",long_description:"",description:"",act:0,affected_by:[],alignment:0,level:0,exp_level:0,hitroll:0,damroll:0,ac:0,hp:100,gold:10,sex:0};openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(n){n.executeSql("SELECT * FROM mobs WHERE area_id = '"+t.props.areas.activeArea+"' AND id = '"+e+"'",[],function(e,n){n.rows.length&&((a=n.rows[0]).affected_by=JSON.parse(a.affected_by),t.setState({mob:a}))},function(e){console.log(e)})})}},{key:"saveMob",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("INSERT INTO mobs (vnum, name, short_description, long_description, description, act, affected_by, alignment, level, exp_level, hitroll, damroll, ac, hp, gold, sex, area_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.state.mob.vnum,e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex,e.props.areas.activeArea],function(t,a){e.props.history.push("/mobs/"+a.insertId+"/")},function(e){console.log(e)})})}},{key:"updateMob",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("UPDATE MOBS set name = ?, short_description = ?, long_description = ?, description = ?, act = ?, affected_by = ?,  alignment = ?, level = ?, exp_level = ?, hitroll = ?, damroll = ?, ac = ?, hp = ?, gold = ?, sex = ? WHERE id = ?",[e.state.mob.name,e.state.mob.short_description,e.state.mob.long_description,e.state.mob.description,e.state.mob.act,JSON.stringify(e.state.mob.affected_by),e.state.mob.alignment,e.state.mob.level,e.state.mob.exp_level,e.state.mob.hitroll,e.state.mob.damroll,e.state.mob.ac,e.state.mob.hp,e.state.mob.gold,e.state.mob.sex,e.state.mobId],function(t,a){e.getMobs()},function(e){console.log(e)})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrap fade-in"},o.a.createElement(A.a,{placeholder:!0},o.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},o.a.createElement(D.a,{vertical:!0}),o.a.createElement(R.a.Row,{verticalAlign:"top"},o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"mobs-list",className:"fade-in"},o.a.createElement(F.a,{divided:!0,relaxed:!0},this.state.mobs.map(function(e){return o.a.createElement(F.a.Item,{key:"mob"+e.id},o.a.createElement(F.a.Content,null,o.a.createElement(F.a.Header,null,"(",e.id,") ",e.short_description),o.a.createElement(F.a.Description,null,o.a.createElement(k.a,{text:!0,horizontal:"true"},o.a.createElement(k.a.Item,{as:w.a,to:"/mobs/"+e.id+"/"},"Edit Mob")))))})),o.a.createElement("div",{id:"view-header-section"},o.a.createElement(M.a,{as:w.a,to:"/mobs/",className:"view-create-new"},o.a.createElement(G.a,{name:"plus"}),"Create New")))),o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&o.a.createElement(P.a,{negative:!0},o.a.createElement(P.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return o.a.createElement("p",null,e.message)})),o.a.createElement(H.a,{onSubmit:this.handleSubmit},o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Namelist ",o.a.createElement(X.a,{trigger:o.a.createElement(M.a,{icon:"help circle"}),content:"This is the list of names that your mob can be found under"})),o.a.createElement(L.a,{name:"name",value:this.state.mob.name,placeholder:"name",onChange:this.handleChange})),o.a.createElement(H.a.Input,{fluid:!0,name:"short_description",value:this.state.mob.short_description,label:"Short Desc",placeholder:"Short desc",onChange:this.handleChange})),o.a.createElement(H.a.Input,{fluid:!0,name:"long_description",label:"Long Desc",placeholder:"",value:this.state.mob.long_description,onChange:this.handleChange}),o.a.createElement(H.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.mob.description,onChange:this.handleChange}),o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Input,{fluid:!0,name:"alignment",label:"Alignment",placeholder:"0",value:this.state.mob.alignment,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"level",label:"Level",placeholder:"0",value:this.state.mob.level,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"exp_level",label:"EXP Level",placeholder:"0",value:this.state.mob.exp_level,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"gold",label:"Gold",placeholder:"0",value:this.state.mob.gold,onChange:this.handleChange}),o.a.createElement(H.a.Select,{fluid:!0,name:"sex",label:"Gender",options:this.state.genders,placeholder:"Gender",onChange:this.handleChange})),o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Input,{fluid:!0,name:"hp",label:"HP",placeholder:"0",value:this.state.mob.hp,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"hitroll",label:"Hitroll",placeholder:"0",value:this.state.mob.hitroll,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"damroll",label:"Damroll",placeholder:"0",value:this.state.mob.damroll,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"ac",label:"Armor",placeholder:"0",value:this.state.mob.ac,onChange:this.handleChange})),o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Dropdown,{label:"Affects",placeholder:"Affects",name:"affected_by",fluid:!0,multiple:!0,selection:!0,options:this.state.affects,value:this.state.mob.affected_by,onChange:function(t,a){var n=a.value;return e.setState(function(e){return{mob:Object(S.a)({},e.mob,{affected_by:Object(N.a)(n)})}})}})),o.a.createElement(H.a.Button,{content:this.state.niceName}))))))))}}]),t}(o.a.Component);var J=Object(x.a)(Object(v.b)(function(e){return e})(B)),z=y()();function U(e){return function(t){t(function(e){return{type:"ACTIVE_AREA",areaId:e}}(e)),localStorage.setItem("activeArea",e),z.push("/rooms/")}}var V=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e,a))).handleSubmit=function(){if(""===n.state.area.name&&n.setState({errors:[{field:"name",message:"You must provide an area name."}]}),""===n.state.area.created_by&&n.setState({errors:[{field:"created_by",message:"You need to provide a name so we can credit the right person."}]}),n.state.errors.length>0)return!1;0===n.state.areaId?n.createArea():n.updateArea()},n.setNewActiveArea=function(){return n.props.actions.setActiveArea(n.state.areaId)},n.handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.getAreas=n.getAreas.bind(Object(I.a)(Object(I.a)(n))),n.state={errors:[],niceName:"Create Area",areaId:0,areas:[{name:"My First Area",created_by:"Your Name Here",id:0}],area:{name:"",created_by:"",id:0}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getAreas",value:function(){var e=openDatabase(q.database.name,q.database.version,q.database.description,q.database.size),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM areas LIMIT 10000",[],function(e,n){if(n.rows.length>=1)for(var l=0;l<n.rows.length;l++)a.push({id:n.rows[l].id,name:n.rows[l].name,created_by:n.rows[l].created_by});else a=[{id:0,name:"My First Area",created_by:"Your Name Here"}];t.setState({areas:a})})})}},{key:"componentDidMount",value:function(e){this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getAreas(),"undefined"!==typeof this.props.match.params.areaId&&(this.setState({areaId:this.props.match.params.areaId,niceName:"Update Area"}),this.getArea(this.props.match.params.areaId)),document.title=this.state.niceName}},{key:"getArea",value:function(e){var t=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(a){a.executeSql("SELECT * FROM areas WHERE id = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({area:{id:a.rows[0].id,name:a.rows[0].name,created_by:a.rows[0].created_by}})},function(e){console.log(e)})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{area:Object(S.a)({},e.area,Object(T.a)({},a,n))}})}},{key:"createArea",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("INSERT INTO areas (name, created_by) VALUES (?, ?)",[e.state.area.name,e.state.area.created_by],function(t,a){e.props.history.push("/areas/"+a.insertId+"/")},function(e,t){console.log(t)})})}},{key:"updateArea",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("UPDATE areas SET name = ?, created_by = ? WHERE rowid = ?",[e.state.area.name,e.state.area.created_by,e.state.areaId],function(t,a){e.getAreas()},function(e,t){console.log(t)})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"wrap fade-in"},o.a.createElement(A.a,{placeholder:!0},o.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},o.a.createElement(D.a,{vertical:!0}),o.a.createElement(R.a.Row,{verticalAlign:"top"},o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"areas-list",className:"fade-in"},o.a.createElement(F.a,{divided:!0,relaxed:!0},this.state.areas.map(function(e){return o.a.createElement(F.a.Item,{key:"area-"+e.id},o.a.createElement(F.a.Content,null,o.a.createElement(w.a,{to:"/areas/"+e.id+"/"},o.a.createElement(F.a.Header,null,"(",e.id,") ",e.name)),o.a.createElement(F.a.Description,null,e.created_by)))})),o.a.createElement("div",{id:"view-header-section"},o.a.createElement(M.a,{as:w.a,to:"/areas/",className:"view-create-new"},o.a.createElement(G.a,{name:"plus"}),"Create New")))),o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&o.a.createElement(P.a,{negative:!0},o.a.createElement(P.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return o.a.createElement("p",null,e.message)})),o.a.createElement(H.a,null,o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Input,{fluid:!0,name:"name",label:"Area Name",placeholder:"Area Name Here",value:this.state.area.name,onChange:this.handleChange}),o.a.createElement(H.a.Input,{fluid:!0,name:"created_by",label:"Created By",placeholder:"Your Name Here",value:this.state.area.created_by,onChange:this.handleChange})),o.a.createElement(H.a.Group,{widths:"equal"},o.a.createElement(H.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}),0!==this.state.areaId&&o.a.createElement(H.a.Button,{color:"green",onClick:this.setNewActiveArea},"Open ",this.state.area.name," for Building")))))))))}}]),t}(o.a.Component);var Y=Object(x.a)(Object(v.b)(function(e){return e},function(e){return{actions:Object(g.b)(n,e)}})(V)),K=a(358),Q=a(371),$=a(362),Z=function(e){function t(e,a){var n;Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e,a))).handleChange=function(e,t){var a=t.name,l=t.value;n.setState(function(e){return{object:Object(S.a)({},e.object,Object(T.a)({},a,l))}}),n.setState({unsaved:!0})},n.handleSubmit=function(){console.log(n.state.object);var e=[];n.setState({errors:e}),0===e.length&&(0===n.state.objectId?n.saveObject():n.updateObject())},n.handleExtrasChange=function(e,t){return function(a){var l=n.state.object.extra_descr_data.map(function(n,l){return e!==l?n:Object(S.a)({},n,Object(T.a)({},t,a.target.value))});n.setState(function(e){return{object:Object(S.a)({},e.object,{extra_descr_data:l})}})}},n.handleAffectsChange=function(e,t){return function(a){var l=n.state.object.affect_data.map(function(n,l){return e!==l?n:Object(S.a)({},n,Object(T.a)({},t,a.target.value))});n.setState(function(e){return{object:Object(S.a)({},e.object,{affect_data:l})}})}};var l=localStorage.getItem("selectedArea");return null===l&&(l=0),n.state={selectedArea:l,errors:[],objectId:0,niceName:"Create Object",objects:[{id:0,name:"first object areaname",short_description:"my first object",description:"This is my first object. Ain't it perty?"}],object:{id:0,name:"",short_description:"",description:"",item_type:0,extra_flags:[],wear_flags:[],value0:0,value1:0,value2:0,value3:0,weight:0,cost:0,affect_data:[],extra_descr_data:[],chpoweron:"",chpoweroff:"",chpoweruse:"",victpoweron:"",victpoweroff:"",victpoweruse:"",spectype:0,specpower:0}},n.getObject=n.getObject.bind(Object(I.a)(Object(I.a)(n))),n.getObjects=n.getObjects.bind(Object(I.a)(Object(I.a)(n))),n.saveObject=n.saveObject.bind(Object(I.a)(Object(I.a)(n))),n.updateObject=n.updateObject.bind(Object(I.a)(Object(I.a)(n))),n.handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(I.a)(Object(I.a)(n))),n.addNewExtras=n.addNewExtras.bind(Object(I.a)(Object(I.a)(n))),n.addNewAffects=n.addNewAffects.bind(Object(I.a)(Object(I.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getObjects(),"undefined"!==typeof this.props.match.params.objectId&&(this.setState({objectId:this.props.match.params.objectId,niceName:"Update Object"}),this.getObject(this.props.match.params.objectId)),document.title=this.state.niceName}},{key:"getObjects",value:function(){var e=openDatabase(q.database.name,q.database.version,q.database.description,q.database.size),t=this,a=[];e.transaction(function(e){e.executeSql("SELECT * FROM objects WHERE area_id = ? LIMIT 10000",[t.props.areas.activeArea],function(e,n){if(n.rows.length>=1)for(var l=0;l<n.rows.length;l++)a.push({id:n.rows[l].id,name:n.rows[l].name,short_description:n.rows[l].short_description,description:n.rows[l].description,item_type:n.rows[l].item_type,extra_flags:n.rows[l].extra_flags,wear_flags:n.rows[l].wear_flags,value0:n.rows[l].value0,value1:n.rows[l].value1,value2:n.rows[l].value2,value3:n.rows[l].value3,weight:n.rows[l].weight,cost:n.rows[l].cost,affect_data:n.rows[l].affect_data,extra_descr_data:n.rows[l].extra_descr_data,chpoweron:n.rows[l].chpoweron,chpoweroff:n.rows[l].chpoweroff,chpoweruse:n.rows[l].chpoweruse,victpoweron:n.rows[l].victpoweron,victpoweroff:n.rows[l].victpoweroff,victpoweruse:n.rows[l].victpoweruse,spectype:n.rows[l].spectype,specpower:n.rows[l].specpower});else a=[{id:0,name:"first mob areaname",short_description:"my first mob",long_description:"This is my first mob. Ain't it perty?"}];t.setState({objects:a})})})}},{key:"getObject",value:function(e){var t=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(a){a.executeSql("SELECT * FROM objects WHERE area_id = '"+t.props.areas.activeArea+"' AND id = '"+e+"'",[],function(e,a){if(a.rows.length){var n=a.rows[0];t.setState({object:{id:n.id,name:n.name,short_description:n.short_description,description:n.description,item_type:n.item_type,extra_flags:JSON.parse(n.extra_flags),wear_flags:JSON.parse(n.wear_flags),value0:n.value0,value1:n.value1,value2:n.value2,value3:n.value3,weight:n.weight,cost:n.cost,affect_data:JSON.parse(n.affect_data),extra_descr_data:JSON.parse(n.extra_descr_data),chpoweron:n.chpoweron,chpoweroff:n.chpoweroff,chpoweruse:n.chpoweruse,victpoweron:n.victpoweron,victpoweroff:n.victpoweroff,victpoweruse:n.victpoweruse,spectype:n.spectype,specpower:n.specpower}})}},function(e){console.log(e)})})}},{key:"saveObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("INSERT INTO objects (name, short_description, description, item_type, extra_flags, wear_flags, value0, value1, value2, value3, weight, cost, affect_data, extra_descr_data, chpoweron, chpoweroff, chpoweruse, victpoweron, victpoweroff, victpoweruse, spectype, specpower, area_id) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.props.areas.activeArea],function(t,a){e.getObjects(),console.log(t),console.log(a),e.props.history.push("/objects/"+a.insertId+"/")},function(e,t){console.log(t.message)})})}},{key:"updateObject",value:function(){var e=this;console.log("Trying to save"),openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("UPDATE objects SET name = ?, short_description = ?, description = ?, item_type = ?, extra_flags = ?, wear_flags = ?, value0 = ?, value1 = ?, value2 = ?, value3 = ?, weight = ?, cost = ?, affect_data = ?, extra_descr_data = ?, chpoweron = ?, chpoweroff = ?, chpoweruse = ?, victpoweron = ?, victpoweroff = ?, victpoweruse = ?, spectype = ?, specpower = ? WHERE id = ?",[e.state.object.name,e.state.object.short_description,e.state.object.description,e.state.object.item_type,e.state.object.extra_flags,e.state.object.wear_flags,e.state.object.value0,e.state.object.value1,e.state.object.value2,e.state.object.value3,e.state.object.weight,e.state.object.cost,e.state.object.affect_data,e.state.object.extra_descr_data,e.state.object.chpoweron,e.state.object.chpoweroff,e.state.object.chpoweruse,e.state.object.victpoweron,e.state.object.victpoweroff,e.state.object.victpoweruse,e.state.object.spectype,e.state.object.specpower,e.state.objectId],function(t,a){e.getObjects()},function(e,t){console.log(t.message)})})}},{key:"addNewExtras",value:function(){var e=this;this.setState(function(t){return{object:Object(S.a)({},t.object,{extra_descr_data:e.state.object.extra_descr_data.concat([{keywords:"",description:""}])})}})}},{key:"addNewAffects",value:function(){var e=this;this.setState(function(t){return{object:Object(S.a)({},t.object,{affect_data:e.state.object.affect_data.concat([{location:0,modifier:0}])})}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrap fade-in"},o.a.createElement(A.a,{placeholder:!0},o.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},o.a.createElement(D.a,{vertical:!0}),o.a.createElement(R.a.Row,{verticalAlign:"top"},o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"objects-list",className:"fade-in"},this.state.objects.map(function(e){return o.a.createElement(F.a,{key:e.id,divided:!0,relaxed:!0},o.a.createElement(F.a.Item,null,o.a.createElement(F.a.Content,null,o.a.createElement(F.a.Header,null,o.a.createElement(w.a,{to:"/objects/"+e.id+"/"},"(",e.id,") ",e.name)),o.a.createElement(F.a.Description,null,e.short_description))))}),o.a.createElement("div",{id:"view-header-section"},o.a.createElement(M.a,{as:w.a,to:"/objects/",className:"view-create-new"},o.a.createElement(G.a,{name:"plus"}),"Create New")))),o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"object-stats",className:"fade-in"},this.state.errors.length>0&&o.a.createElement(P.a,{negative:!0},o.a.createElement(P.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return o.a.createElement("p",null,e.message)})),o.a.createElement(H.a,null,o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,{width:10},o.a.createElement("label",null,"Namelist ",o.a.createElement(X.a,{trigger:o.a.createElement(M.a,{icon:"help circle"}),content:"This is the list of names that your object can be found under. If you don't add it here, it won't show up on locate. Seperate each keyword by a space - no commas."})),o.a.createElement(L.a,{name:"name",value:this.state.object.name,placeholder:"name",onChange:this.handleChange})),o.a.createElement(H.a.Field,{width:3},o.a.createElement("label",null,"Gold Value"),o.a.createElement(L.a,{name:"gold",value:this.state.object.gold,placeholder:"0",onChange:this.handleChange})),o.a.createElement(H.a.Field,{width:3},o.a.createElement("label",null,"Weight"),o.a.createElement(L.a,{name:"weight",value:this.state.object.weight,placeholder:"0",onChange:this.handleChange}))),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Short Description ",o.a.createElement(X.a,{trigger:o.a.createElement(M.a,{icon:"help circle"}),content:"The string that shows in someone's inventory."})),o.a.createElement(L.a,{name:"short_description",value:this.state.object.short_description,placeholder:"",onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Description ",o.a.createElement(X.a,{trigger:o.a.createElement(M.a,{icon:"help circle"}),content:"The string that shows up when an item is on the ground, or you look at it."})),o.a.createElement(L.a,{name:"description",value:this.state.object.description,placeholder:"",onChange:this.handleChange})),o.a.createElement(K.a,null,o.a.createElement(Q.a,{as:"h3"},"Item Type & Stats"),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Item Type"),o.a.createElement($.a,{selection:!0,name:"item_type",options:q.object.item_types,value:this.state.object.item_type,onChange:this.handleChange})),1===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Hours"),o.a.createElement(L.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange}))),(2===this.state.object.item_type||10===this.state.object.item_type||26===this.state.object.item_type)&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell Level"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell 1"),o.a.createElement($.a,{selection:!0,name:"value1",value:this.state.object.value1,onChange:this.handleChange,options:q.object.spells})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell 2"),o.a.createElement($.a,{selection:!0,name:"value2",value:this.state.object.value2,onChange:this.handleChange,options:q.object.spells})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell 3"),o.a.createElement($.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:q.object.spells}))),(3===this.state.object.item_type||4===this.state.object.item_type)&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Level"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Max Charges"),o.a.createElement(L.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Current Charges"),o.a.createElement(L.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell"),o.a.createElement($.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:q.object.spells}))),5===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell"),o.a.createElement($.a,{selection:!0,name:"value0",value:this.state.object.value0,onChange:this.handleChange,options:q.object.spells})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Weapon Type"),o.a.createElement($.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:q.object.weapon_types}))),9===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Spell"),o.a.createElement($.a,{selection:!0,name:"value3",value:this.state.object.value3,onChange:this.handleChange,options:q.object.spells}))),15===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,{width:2},o.a.createElement("label",null,"Weight"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),o.a.createElement(H.a.Field,{width:6},o.a.createElement("label",null,"Key"),o.a.createElement(L.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Flags"),o.a.createElement($.a,{multiple:!0,selection:!0,name:"value1",onChange:this.handleChange,options:[{value:1,text:"Closable",key:1},{value:4,text:"Closed",key:2},{value:8,text:"Locked",key:3},{value:2,text:"Pickproof",key:4}],value:this.state.object.value1}))),17===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,{width:2},o.a.createElement("label",null,"Max Amount"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),o.a.createElement(H.a.Field,{width:6},o.a.createElement("label",null,"Current Amount"),o.a.createElement(L.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Liquid"),o.a.createElement($.a,{selection:!0,name:"value2",onChange:this.handleChange,options:q.object.liquids,value:this.state.object.value2}))),19===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Hours Full"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange}))),20===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Gold"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange}))),27===this.state.object.item_type&&o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Destination VNum"),o.a.createElement(L.a,{name:"value0",value:this.state.object.value0,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Current Value"),o.a.createElement(L.a,{name:"value1",value:this.state.object.value1,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Max Value"),o.a.createElement(L.a,{name:"value2",value:this.state.object.value2,onChange:this.handleChange})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Original VNum"),o.a.createElement(L.a,{name:"value3",value:this.state.object.value3,onChange:this.handleChange})))),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Extra Flags"),o.a.createElement($.a,{label:"Extra Flags",name:"extra_flags",fluid:!0,multiple:!0,selection:!0,options:q.object.extra_flags,value:this.state.object.extra_flags})),o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Wear Flags ",o.a.createElement(X.a,{trigger:o.a.createElement(M.a,{icon:"help circle"}),content:"If you do not select Take as an option, you will not be able to pick this up no matter what other option you select."})),o.a.createElement($.a,{name:"wear_flags",fluid:!0,multiple:!0,selection:!0,options:q.object.wear_flags,value:this.state.object.wear_flags})," />"),o.a.createElement(K.a,null,o.a.createElement(Q.a,{as:"h3"},o.a.createElement(M.a,{onClick:this.addNewExtras},o.a.createElement(G.a,{name:"plus circle"}),"Add New"),"Extra Descriptions"),this.state.object.extra_descr_data.map(function(t,a){return o.a.createElement(H.a.Group,{key:a},o.a.createElement(H.a.Input,{fluid:!0,name:"keywords",value:e.state.object.extra_descr_data[a].keywords,label:"Keywords",placeholder:"keyword",onChange:e.handleExtrasChange(a,"keywords")}),o.a.createElement(H.a.TextArea,{rows:1,name:"description",label:"Description",placeholder:"What shows up when someone looks at the keyword?",value:e.state.object.extra_descr_data[a].description,onChange:e.handleExtrasChange(a,"description")}))})),o.a.createElement(K.a,null,o.a.createElement(Q.a,{as:"h3"},o.a.createElement(M.a,{onClick:this.addNewAffects},o.a.createElement(G.a,{name:"plus circle"}),"Add New"),"Affects"),this.state.object.affect_data.map(function(t,a){return o.a.createElement(H.a.Group,{key:a},o.a.createElement(H.a.Field,null,o.a.createElement("label",null,"Attribute"),o.a.createElement($.a,{name:"location",fluid:!0,selection:!0,options:q.object.affects,value:e.state.object.affect_data[a].location,onChange:e.handleAffectsChange(a,"location")})),o.a.createElement(H.a.Input,{fluid:!0,name:"modifier",value:e.state.object.affect_data[a].modifier,label:"Amount",placeholder:"0",onChange:e.handleExtrasChange(a,"modifier")}))})),o.a.createElement(H.a.Button,{onClick:this.handleSubmit,content:this.state.niceName}))))))))}}]),t}(o.a.Component);var ee=Object(x.a)(Object(v.b)(function(e){return e},function(e){return{}})(Z)),te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(A.a,{id:"dashboard",placeholder:!0},o.a.createElement(Q.a,{textAlign:"center",as:"h1"},"Online Creation Tool for The Death of Caine MUD"),o.a.createElement("p",null,'To begin, click on Areas. This will allow you to create your first area. Once you have created your area, click on the green "Open AREANAME for Building" button. This will allow you start adding in Rooms, Objects, and Mobs.'))}}]),t}(l.Component);var ae=Object(x.a)(Object(v.b)(function(e){return e},function(e){return{}})(te)),ne=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e,a))).handleChange=function(e,t){var a=t.name,l=t.value;n.setState(function(e){return{room:Object(S.a)({},e.room,Object(T.a)({},a,l))}})},n.handleSubmit=function(){if(n.state.errors.length>0)return!1;0===n.state.roomId?n.createRoom():n.updateRoom()},n.handleExtrasChange=function(e,t){return function(a){var l=n.state.room.extra_descr_data.map(function(n,l){return e!==l?n:Object(S.a)({},n,Object(T.a)({},t,a.target.value))});n.setState(function(e){return{room:Object(S.a)({},e.room,{extra_descr_data:l})}})}},n.handleExitsChange=function(e,t){return function(a){var l=n.state.room.exits.map(function(n,l){return e!==l?n:Object(S.a)({},n,Object(T.a)({},t,a.target.value))});n.setState(function(e){return{room:Object(S.a)({},e.room,{exits:l})}})}},n.state={errors:[],niceName:"Create Room",roomId:0,rooms:[],room:{id:0,name:"",description:"",room_flags:[],sector_type:0,exits:[{keywords:"",description:"",exit_info:[],vnum:0,door:0,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:1,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:2,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:3,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:4,key:0},{keywords:"",description:"",exit_info:[],vnum:0,door:5,key:0}],extra_descr_data:[],roomtext_data:[]},directions:["up","down","north","east","south","west"],exitRooms:[]},n.handleChange=n.handleChange.bind(Object(I.a)(Object(I.a)(n))),n.getRooms=n.getRooms.bind(Object(I.a)(Object(I.a)(n))),n.getRoom=n.getRoom.bind(Object(I.a)(Object(I.a)(n))),n.addNewExtras=n.addNewExtras.bind(Object(I.a)(Object(I.a)(n))),n.addNewExits=n.addNewExits.bind(Object(I.a)(Object(I.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getRooms",value:function(){var e=openDatabase(q.database.name,q.database.version,q.database.description,q.database.size),t=this,a=[],n=[];e.transaction(function(e){e.executeSql("SELECT * FROM rooms LIMIT 10000",[],function(e,l){if(l.rows.length>=1){for(var o=0;o<l.rows.length;o++)a.push({id:l.rows[o].id,name:l.rows[o].name,description:l.rows[o].description,room_flags:l.rows[o].room_flags,sector_type:l.rows[o].sector_type,exits:l.rows[o].exits,extra_descr_data:l.rows[o].extra_descr_data,roomtext_data:l.rows[o].roomtext_data}),n.push({key:o,text:l.rows[o].name,value:l.rows[o].id});t.setState({rooms:a})}})})}},{key:"componentDidMount",value:function(e){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getRoom(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"componentWillReceiveProps",value:function(){this.getRooms(),"undefined"!==typeof this.props.match.params.roomId&&(this.setState({roomId:this.props.match.params.roomId,niceName:"Update Room"}),this.getRoom(this.props.match.params.roomId)),document.title=this.state.niceName}},{key:"getRoom",value:function(e){var t=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(a){a.executeSql("SELECT * FROM rooms WHERE id = '"+e+"'",[],function(e,a){a.rows.length&&t.setState({room:{id:a.rows[0].id,name:a.rows[0].name,description:a.rows[0].description,room_flags:JSON.parse(a.rows[0].room_flags),sector_type:a.rows[0].sector_type,exits:JSON.parse(a.rows[0].exits),extra_descr_data:JSON.parse(a.rows[0].extra_descr_data),roomtext_data:JSON.parse(a.rows[0].roomtext_data)}})},function(e){console.log(e)})})}},{key:"createRoom",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("INSERT INTO rooms (name, description, room_flags, sector_type, exits, extra_descr_data, roomtext_data, area_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",[e.state.room.name,e.state.room.description,JSON.stringify(e.state.room.room_flags),e.state.room.sector_type,JSON.stringify(e.state.room.exits),JSON.stringify(e.state.room.extra_descr_data),JSON.stringify(e.state.room.roomtext_data),e.props.areas.activeArea],function(t,a){console.log(t),console.log(a),e.props.history.push("/rooms/"+a.insertId+"/")},function(e,t){console.log(t)})})}},{key:"updateRoom",value:function(){var e=this;openDatabase(q.database.name,q.database.version,q.database.description,q.database.size).transaction(function(t){t.executeSql("UPDATE rooms SET name = ?, description = ?, room_flags = ?, sector_type = ?, exits = ?, extra_descr_data = ?, roomtext_data = ? WHERE id = ?",[e.state.room.name,e.state.room.description,JSON.stringify(e.state.room.room_flags),e.state.room.sector_type,JSON.stringify(e.state.room.exits),JSON.stringify(e.state.room.extra_descr_data),JSON.stringify(e.state.room.roomtext_data),e.state.roomId],function(e,t){this.getRooms()},function(e,t){console.log(t)})})}},{key:"addNewExtras",value:function(){var e=this;this.setState(function(t){return{room:Object(S.a)({},t.room,{extra_descr_data:e.state.room.extra_descr_data.concat([{keywords:"",description:""}])})}})}},{key:"addNewExits",value:function(){var e=this;this.setState(function(t){return{room:Object(S.a)({},t.room,{exits:e.state.room.exits.concat([{door:0,vnum:0,description:"",keyword:"",key:0,exit_info:0}])})}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrap fade-in"},o.a.createElement(A.a,{placeholder:!0},o.a.createElement(R.a,{columns:2,stackable:!0,textAlign:"center"},o.a.createElement(D.a,{vertical:!0}),o.a.createElement(R.a.Row,{verticalAlign:"top"},o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"areas-list",className:"fade-in"},o.a.createElement(F.a,{divided:!0,relaxed:!0},this.state.rooms.map(function(e){return o.a.createElement(F.a.Item,{key:"room-"+e.id},o.a.createElement(F.a.Content,null,o.a.createElement(w.a,{to:"/rooms/"+e.id+"/"},o.a.createElement(F.a.Header,null,"(",e.id,") ",e.name)),o.a.createElement(F.a.Description,null,e.created_by)))})),o.a.createElement("div",{id:"view-header-section"},o.a.createElement(M.a,{as:w.a,to:"/rooms/",className:"view-create-new"},o.a.createElement(G.a,{name:"plus"}),"Create New")))),o.a.createElement(R.a.Column,null,o.a.createElement("div",{id:"mob-stats",className:"fade-in"},this.state.errors.length>0&&o.a.createElement(P.a,{negative:!0},o.a.createElement(P.a.Header,null,"Please fix the following errors:"),this.state.errors.map(function(e){return o.a.createElement("p",null,e.message)})),o.a.createElement(H.a,null,o.a.createElement(H.a.Input,{fluid:!0,name:"name",value:this.state.room.name,label:"Room Name",placeholder:"Room Name Here",onChange:this.handleChange}),o.a.createElement(H.a.TextArea,{name:"description",label:"Look",placeholder:"The mob looks back at you!",value:this.state.room.description,onChange:this.handleChange}),o.a.createElement(H.a.Dropdown,{label:"Room Flags",name:"room_flags",fluid:!0,multiple:!0,selection:!0,options:q.rooms.flags,value:this.state.room.room_flags,onChange:function(t,a){var n=a.value;return e.setState(function(e){return{room:Object(S.a)({},e.room,{room_flags:Object(N.a)(n)})}})}}),o.a.createElement(H.a.Dropdown,{label:"Room Sector",name:"sector_type",fluid:!0,selection:!0,options:q.rooms.sectors,value:this.state.room.sector_type,onChange:this.handleChange}),o.a.createElement(K.a,null,o.a.createElement(Q.a,{as:"h3"},o.a.createElement(M.a,{onClick:this.addNewExtras},o.a.createElement(G.a,{name:"plus circle"}),"Add New"),"Extra Room Descriptions"),this.state.room.extra_descr_data.map(function(t,a){return o.a.createElement(H.a.Group,{key:a},o.a.createElement(H.a.Input,{fluid:!0,name:"keywords",value:e.state.room.extra_descr_data[a].keywords,label:"Keywords",placeholder:"keyword",onChange:e.handleExtrasChange(a,"keywords")}),o.a.createElement(H.a.TextArea,{rows:1,name:"description",label:"Description",placeholder:"What shows up when someone looks at the keyword?",value:e.state.room.extra_descr_data[a].description,onChange:e.handleExtrasChange(a,"description")}))})),o.a.createElement(K.a,null,o.a.createElement(Q.a,{as:"h3"},o.a.createElement(M.a,{onClick:this.addNewExits},o.a.createElement(G.a,{name:"plus circle"})," Add New"),"Exits"),o.a.createElement(A.a.Group,{raised:!0},this.state.directions.map(function(t,a){return o.a.createElement(A.a,{className:"exit",key:"exit-"+a},o.a.createElement(Q.a,{as:"h3",block:!0},t),o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,{width:6},o.a.createElement("label",null,"Exit Room"),o.a.createElement($.a,{selection:!0,options:e.state.exitRooms,value:e.state.room.exits[a].vnum})),o.a.createElement(H.a.Field,{width:10},o.a.createElement("label",null,"\xa0"),o.a.createElement($.a,{selection:!0,multiple:!0,value:e.state.room.exits[a].exit_info,options:q.rooms.exit_info_flags}))),o.a.createElement(H.a.Group,null,o.a.createElement(H.a.Field,{width:4},o.a.createElement("label",null,"Keywords"),o.a.createElement(L.a,{name:"keywords",value:e.state.room.exits[a].keywords})),o.a.createElement(H.a.Field,{width:12},o.a.createElement("label",null,"Description"),o.a.createElement(L.a,{name:"description",value:e.state.room.exits[a].description}))))}))),o.a.createElement(H.a.Button,{onClick:this.handleSubmit,color:"black",content:this.state.niceName}))))))))}}]),t}(o.a.Component);var le=Object(x.a)(Object(v.b)(function(e){return e},function(e){return{actions:Object(g.b)(n,e)}})(ne)),oe=new(function(){function e(){Object(i.a)(this,e),this.config=q}return Object(c.a)(e,[{key:"createDatabases",value:function(){openDatabase(this.config.dbName,this.config.dbVersion,this.config.dbDescription,this.config.dbSize).transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS areas (id INTEGER PRIMARY KEY, name TEXT, created_by TEXT)"),e.executeSql("CREATE TABLE IF NOT EXISTS mobs (id INTEGER PRIMARY KEY, vnum INTEGER, name TEXT, short_description TEXT, long_description TEXT, description TEXT, act TEXT, affected_by TEXT, alignment TEXT, level INT,  exp_level INT, hitroll INT, damroll INT, ac INT, hp INT, gold INT, sex INT, area_id INT)"),e.executeSql("CREATE TABLE IF NOT EXISTS objects (id INTEGER PRIMARY KEY, vnum INT, name TEXT, short_description TEXT, description TEXT, act TEXT, item_type INTEGER, extra_flags TEXT, wear_flags TEXT, value0 INT, value1 INT, value2 INT, value3 INT, weight INT, cost INT, affect_data TEXT, extra_descr_data TEXT, chpoweron TEXT, chpoweroff TEXT, chpoweruse TEXT, victpoweron TEXT, victpoweroff TEXT, victpoweruse TEXT, spectype INT, specpower INT, affected_by TEXT, area_id INT);"),e.executeSql("CREATE TABLE IF NOT EXISTS rooms (id INTEGER PRIMARY KEY, name TEXT, description TEXT, room_flags TEXT, sector_type INTEGER, exits TEXT, extra_descr_data TEXT, roomtext_data TEXT, area_id INTEGER)")}),localStorage.setItem("database","1.1")}}]),e}()),re=y()(),se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){"1.1"!==localStorage.getItem("dbVersion")&&oe.createDatabases()}},{key:"render",value:function(){return o.a.createElement("div",{className:"marcopromo-app-container"},o.a.createElement(h.a,{history:re},o.a.createElement("div",{id:"",className:"content"},o.a.createElement(O,null),o.a.createElement("div",{id:"content_bin"},o.a.createElement(p.a,{exact:!0,path:"/",niceName:"Welcome",component:ae}),o.a.createElement(p.a,{exact:!0,path:"/areas/",niceName:"Areas",component:Y}),o.a.createElement(p.a,{exact:!0,path:"/areas/:areaId/",niceName:"Areas",component:Y}),o.a.createElement(p.a,{exact:!0,path:"/mobs/",niceName:"Mobs",component:J}),o.a.createElement(p.a,{exact:!0,path:"/mobs/:mobId/",niceName:"Edit Mob",component:J}),o.a.createElement(p.a,{exact:!0,path:"/objects/",nameName:"Create Object",component:ee}),o.a.createElement(p.a,{exact:!0,path:"/objects/:objectId/",nameName:"Update Object",component:ee}),o.a.createElement(p.a,{exact:!0,path:"/rooms/",nameName:"Create Room",component:le}),o.a.createElement(p.a,{exact:!0,path:"/rooms/:roomId/",nameName:"Update Room",component:le})))))}}]),t}(l.Component);var ie=Object(v.b)(function(e){return e},function(e){return{actions:Object(g.b)(f,e)}})(se),ce=a(121),ue=0;null!==localStorage.getItem("activeArea")&&(ue=localStorage.getItem("activeArea"));var me={areas:{activeArea:ue}};var de=Object(g.c)({areas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"areas":return a.areas=t.areas,console.log(a),a;case"ACTIVE_AREA":return a.activeArea=t.areaId,a;default:return e}}});var he,pe=(he=me,Object(g.e)(de,he,Object(g.d)(Object(g.a)(ce.a))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=pe;s.a.render(o.a.createElement(v.a,{store:ve},o.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,2,1]]]);
//# sourceMappingURL=main.6f5139c4.chunk.js.map